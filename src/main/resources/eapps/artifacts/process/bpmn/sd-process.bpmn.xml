<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:ecos="http://www.citeck.ru/ecos/bpmn/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_0hq0c8n" name="Процесс заявки SD" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="8.2.0" ecos:workingCopySourceRef="" ecos:name_ml="{&quot;ru&quot;:&quot;Процесс заявки SD&quot;,&quot;en&quot;:&quot;SD request process&quot;}" ecos:formRef="uiserv/form@request-sd-form" ecos:autoDeleteEnabled="false" ecos:sectionRef="eproc/bpmn-section@DEFAULT" ecos:enabled="true" ecos:autoStartEnabled="true" ecos:defState="CONVERTED" ecos:processDefId="sd-process" ecos:ecosType="emodel/type@sd-request-type">
    <bpmn:process isExecutable="true" id="sd-process">
        <bpmn:laneSet id="LaneSet_0k0t1u2">
            <bpmn:lane name="Основной поток" id="Lane_0hzufr9" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Основной поток&quot;}">
                <bpmn:flowNodeRef>StartEvent_1ew9rff</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0kpskrn</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Gateway_0lqvvzf</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Event_10fhoir</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0th9gn9</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_03kf0z2</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0rvw39m</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Event_03oygdv</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_1prs3s3</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Event_120wwf5</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0xg0xlw</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_1iv7371</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0sinznk</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="" id="Lane_1dr4hoy" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:flowNodeRef>Activity_0vhsfo8</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_1s5p337</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0h47ybh</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="Добавление участника" id="Lane_020tf09" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Добавление участника&quot;}">
                <bpmn:flowNodeRef>Activity_05y21r6</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="Указание резолюции" id="Lane_14zmqwf" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Указание резолюции&quot;}">
                <bpmn:flowNodeRef>Activity_02v2j3o</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="1-я линия" id="Lane_17j6kug" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;1-я линия&quot;}">
                <bpmn:flowNodeRef>Activity_1ia6z48</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_09qiygb</bpmn:flowNodeRef>
                <bpmn:childLaneSet id="LaneSet_0in426l">
                    <bpmn:lane name="Ожидание" id="Lane_1tngkz6" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Ожидание&quot;}">
                        <bpmn:flowNodeRef>Activity_09qiygb</bpmn:flowNodeRef>
                    </bpmn:lane>
                    <bpmn:lane name="В работе" id="Lane_0oofmcl" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;В работе&quot;}">
                        <bpmn:flowNodeRef>Activity_1ia6z48</bpmn:flowNodeRef>
                    </bpmn:lane>
                </bpmn:childLaneSet>
            </bpmn:lane>
            <bpmn:lane name="2-я линия" id="Lane_1xy6990" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;2-я линия&quot;}">
                <bpmn:flowNodeRef>Activity_1g09ruj</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_1wczbw9</bpmn:flowNodeRef>
                <bpmn:childLaneSet id="LaneSet_06ufrqa">
                    <bpmn:lane name="Ожидание" id="Lane_01wsvje" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Ожидание&quot;}">
                        <bpmn:flowNodeRef>Activity_1g09ruj</bpmn:flowNodeRef>
                    </bpmn:lane>
                    <bpmn:lane name="В работе" id="Lane_14b2ulw" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;В работе&quot;}">
                        <bpmn:flowNodeRef>Activity_1wczbw9</bpmn:flowNodeRef>
                    </bpmn:lane>
                </bpmn:childLaneSet>
            </bpmn:lane>
            <bpmn:lane name="3-я линия ТП" id="Lane_1gahic3" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;3-я линия ТП&quot;}">
                <bpmn:flowNodeRef>Activity_0w083oy</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_0tviscz</bpmn:flowNodeRef>
                <bpmn:childLaneSet id="LaneSet_0v6w6b6">
                    <bpmn:lane name="Ожидание" id="Lane_13zlu53" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Ожидание&quot;}">
                        <bpmn:flowNodeRef>Activity_0w083oy</bpmn:flowNodeRef>
                    </bpmn:lane>
                    <bpmn:lane name="В работе" id="Lane_1yxhds5" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;В работе&quot;}">
                        <bpmn:flowNodeRef>Activity_0tviscz</bpmn:flowNodeRef>
                    </bpmn:lane>
                </bpmn:childLaneSet>
            </bpmn:lane>
            <bpmn:lane name="Уточнение" id="Lane_1j6qsac" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Уточнение&quot;}">
                <bpmn:flowNodeRef>Activity_10ytz2r</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="Подтверждение выполнения" id="Lane_1pwbhkw" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Подтверждение выполнения&quot;}">
                <bpmn:flowNodeRef>Activity_1rmxd13</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="Удержание" id="Lane_1evb1gn" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Удержание&quot;}">
                <bpmn:flowNodeRef>Activity_1etfdiu</bpmn:flowNodeRef>
            </bpmn:lane>
            <bpmn:lane name="Уведомление о добавлении комментария" id="Lane_1l1abwg" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Уведомление о добавлении комментария&quot;}">
                <bpmn:flowNodeRef>Activity_1aeztn8</bpmn:flowNodeRef>
                <bpmn:flowNodeRef>Activity_1ymv03a</bpmn:flowNodeRef>
            </bpmn:lane>
        </bpmn:laneSet>
        <bpmn:startEvent isInterrupting="true" name="Старт процесса SD" id="StartEvent_1ew9rff" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Старт процесса SD&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:outgoing >Flow_0r1kxkb</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:sendTask name="Ув. Инициатора о создании заявки" id="Activity_0kpskrn" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о создании заявки&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-create" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
            <bpmn:incoming >Flow_1kr6lce</bpmn:incoming>
        </bpmn:sendTask>
        <bpmn:inclusiveGateway name="" id="Gateway_0lqvvzf" ecos:documentation="{}" ecos:name_ml="{}">
            <bpmn:incoming >Flow_0r1kxkb</bpmn:incoming>
            <bpmn:outgoing >Flow_1kr6lce</bpmn:outgoing>
            <bpmn:outgoing >Flow_0ir273q</bpmn:outgoing>
        </bpmn:inclusiveGateway>
        <bpmn:intermediateCatchEvent name="Эвент статус: Закрыто" id="Event_10fhoir" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент статус: Закрыто&quot;,&quot;en&quot;:&quot;Event-status: Closed&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-closes&quot;}">
            <bpmn:incoming >Flow_00tzpex</bpmn:incoming>
            <bpmn:outgoing >Flow_03y5nsj</bpmn:outgoing>
            <bpmn:signalEventDefinition  signalRef="Signal_onV1z9v" id="SignalEventDefinition_0f98qbx"/>
        </bpmn:intermediateCatchEvent>
        <bpmn:scriptTask scriptFormat="javascript" name="Обнуление данных" id="Activity_0th9gn9" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Обнуление данных&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="document.att('firstReactionTimestamp', null);&#10;document.att('stoppingTimestamp', null);&#10;document.att('closedTimestamp', null);&#10;document.att('implThirdLineSupport', null);&#10;&#10;document.att(&quot;sla_1_state&quot;, &quot;CREATED&quot;);&#10;document.att(&quot;sla_1_start_time&quot;, null);&#10;document.att(&quot;sla_1_due_date&quot;, null);&#10;&#10;document.att(&quot;sla_2_state&quot;, &quot;CREATED&quot;);&#10;document.att(&quot;sla_2_start_time&quot;, null);&#10;document.att(&quot;sla_2_due_date&quot;, null);&#10;document.att(&quot;sla_2_pause_time&quot;, null);&#10;document.att(&quot;sla_2_spent_time&quot;, 0);&#10;document.att(&quot;sla_2_last_resume_time&quot;, null);&#10;&#10;document.save();">
            <bpmn:incoming >Flow_0ir273q</bpmn:incoming>
            <bpmn:outgoing >Flow_0p2g4j7</bpmn:outgoing>
            <bpmn:script>document.att('firstReactionTimestamp', null);
document.att('stoppingTimestamp', null);
document.att('closedTimestamp', null);
document.att('implThirdLineSupport', null);

document.att("sla_1_state", "CREATED");
document.att("sla_1_start_time", null);
document.att("sla_1_due_date", null);

document.att("sla_2_state", "CREATED");
document.att("sla_2_start_time", null);
document.att("sla_2_due_date", null);
document.att("sla_2_pause_time", null);
document.att("sla_2_spent_time", 0);
document.att("sla_2_last_resume_time", null);

document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="StartEvent_1ew9rff" targetRef="Gateway_0lqvvzf" name="" id="Flow_0r1kxkb" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Gateway_0lqvvzf" targetRef="Activity_0kpskrn" name="Заявка создана через e-mail" id="Flow_1kr6lce" ecos:name_ml="{&quot;ru&quot;:&quot;Заявка создана через e-mail&quot;,&quot;en&quot;:&quot;Request created from e-mail&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load('createdAutomatically?bool') === true&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
        <bpmn:sequenceFlow sourceRef="Gateway_0lqvvzf" targetRef="Activity_0th9gn9" name="" id="Flow_0ir273q" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_1prs3s3" targetRef="Event_10fhoir" name="" id="Flow_00tzpex" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Event_10fhoir" targetRef="Activity_03kf0z2" name="" id="Flow_03y5nsj" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_0xg0xlw" targetRef="Event_120wwf5" name="" id="Flow_1de0pdd" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_1iv7371" targetRef="Activity_0xg0xlw" name="" id="Flow_1e2zt0y" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_0rvw39m" targetRef="Event_03oygdv" name="" id="Flow_1e3qk4d" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_03kf0z2" targetRef="Activity_0rvw39m" name="" id="Flow_0aoqcgy" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:sequenceFlow sourceRef="Activity_0th9gn9" targetRef="Activity_1prs3s3" name="" id="Flow_0p2g4j7" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_0vhsfo8" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="SLA 2 Запуск" id="Event_0u6iw0e" ecos:documentation="{}" ecos:manualSignalName="sla-2-start" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Запуск&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing >Flow_1cxw9g5</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_902TUTb" id="SignalEventDefinition_1cyuvoy"/>
            </bpmn:startEvent>
            <bpmn:subProcess triggeredByEvent="false" name="" id="Activity_0orxly7" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1biltdb</bpmn:incoming>
                <bpmn:outgoing >Flow_1nnfwq0</bpmn:outgoing>
                <bpmn:startEvent isInterrupting="true" name="" id="Event_07q6n2n" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:outgoing >Flow_09fi91h</bpmn:outgoing>
                </bpmn:startEvent>
                <bpmn:sequenceFlow sourceRef="Event_07q6n2n" targetRef="Gateway_0rk66a9" name="" id="Flow_09fi91h" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_0rk66a9" targetRef="Event_0mvrxmh" name="" id="Flow_10so0g9" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;${notificationToExecutorTimeResolve != null}&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="EXPRESSION"/>
                <bpmn:intermediateCatchEvent name="SLA 2: Таймер уведомления исполнителя" id="Event_0mvrxmh" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2: Таймер уведомления исполнителя&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${notificationToExecutorTimeResolve}&quot;}">
                    <bpmn:incoming >Flow_10so0g9</bpmn:incoming>
                    <bpmn:outgoing >Flow_0vytlrt</bpmn:outgoing>
                    <bpmn:timerEventDefinition id="TimerEventDefinition_0i0a5vg">
                        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${notificationToExecutorTimeResolve}</bpmn:timeDate>
                    </bpmn:timerEventDefinition>
                </bpmn:intermediateCatchEvent>
                <bpmn:sendTask name="Ув. Исполнителя о скорой просрочке SLA 2" id="Activity_11w5800" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Исполнителя о скорой просрочке SLA 2&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-sla-2-overdue" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[&quot;${assigneesOfCurrentLine}&quot;]">
                    <bpmn:incoming >Flow_08p2krt</bpmn:incoming>
                    <bpmn:outgoing >Flow_0xjgjij</bpmn:outgoing>
                </bpmn:sendTask>
                <bpmn:sequenceFlow sourceRef="Activity_11w5800" targetRef="Gateway_0ty12j0" name="" id="Flow_0xjgjij" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:endEvent name="" id="Event_0pulm5v" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_0s6v1oo</bpmn:incoming>
                </bpmn:endEvent>
                <bpmn:sequenceFlow sourceRef="Gateway_0ty12j0" targetRef="Event_0pulm5v" name="" id="Flow_0s6v1oo" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_0rk66a9" targetRef="Event_1oke406" name="" id="Flow_0wrzegh" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;${notificationToSupervisorTimeResolve != null}&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="EXPRESSION"/>
                <bpmn:intermediateCatchEvent name="SLA 2: Таймер уведомления руководителю ТП" id="Event_1oke406" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2: Таймер уведомления руководителю ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${notificationToSupervisorTimeResolve}&quot;}">
                    <bpmn:incoming >Flow_0wrzegh</bpmn:incoming>
                    <bpmn:outgoing >Flow_13gp9pg</bpmn:outgoing>
                    <bpmn:timerEventDefinition id="TimerEventDefinition_01s3idu">
                        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${notificationToSupervisorTimeResolve}</bpmn:timeDate>
                    </bpmn:timerEventDefinition>
                </bpmn:intermediateCatchEvent>
                <bpmn:sequenceFlow sourceRef="Event_1oke406" targetRef="Activity_1p7eg83" name="" id="Flow_13gp9pg" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sendTask name="Ув. Руководителю ТП о скорой просрочке SLA 2" id="Activity_1p7eg83" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Руководителю ТП о скорой просрочке SLA 2&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-sla-2-overdue" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;lead-tech-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                    <bpmn:incoming >Flow_13gp9pg</bpmn:incoming>
                    <bpmn:outgoing >Flow_0q2kyn8</bpmn:outgoing>
                </bpmn:sendTask>
                <bpmn:sequenceFlow sourceRef="Activity_1p7eg83" targetRef="Gateway_0ty12j0" name="" id="Flow_0q2kyn8" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:inclusiveGateway name="" id="Gateway_0rk66a9" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_09fi91h</bpmn:incoming>
                    <bpmn:outgoing >Flow_10so0g9</bpmn:outgoing>
                    <bpmn:outgoing >Flow_0wrzegh</bpmn:outgoing>
                    <bpmn:outgoing >Flow_0rz40t9</bpmn:outgoing>
                </bpmn:inclusiveGateway>
                <bpmn:inclusiveGateway name="" id="Gateway_0ty12j0" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_0xjgjij</bpmn:incoming>
                    <bpmn:incoming >Flow_0q2kyn8</bpmn:incoming>
                    <bpmn:outgoing >Flow_0s6v1oo</bpmn:outgoing>
                </bpmn:inclusiveGateway>
                <bpmn:sequenceFlow sourceRef="Event_0mvrxmh" targetRef="Activity_0hexp5t" name="" id="Flow_0vytlrt" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:scriptTask scriptFormat="javascript" name="Определение линии исполнителя" id="Activity_0hexp5t" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Определение линии исполнителя&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var currentLine = execution.getVariable(&quot;currentLine&quot;);&#10;var role = &quot;&quot;;&#10;&#10;if (currentLine === 1) {&#10;    role = &quot;impl-first-line-role&quot;;&#10;} else if (currentLine === 2) {&#10;    role = &quot;impl-second-line-role&quot;;&#10;} else if (currentLine === 3) {&#10;    role = &quot;impl-third-line-role&quot;;&#10;} else {&#10;    throw new Error(&quot;Invalid line number: &quot; + currentLine);&#10;}&#10;&#10;var assignees = document.load(&quot;_roles.assigneesOf.&quot; + role + &quot;[]?str|join()&quot;);&#10;&#10;execution.setVariable(&quot;assigneesOfCurrentLine&quot;, assignees);">
                    <bpmn:incoming >Flow_0vytlrt</bpmn:incoming>
                    <bpmn:outgoing >Flow_08p2krt</bpmn:outgoing>
                    <bpmn:script>var currentLine = execution.getVariable("currentLine");
var role = "";

if (currentLine === 1) {
    role = "impl-first-line-role";
} else if (currentLine === 2) {
    role = "impl-second-line-role";
} else if (currentLine === 3) {
    role = "impl-third-line-role";
} else {
    throw new Error("Invalid line number: " + currentLine);
}

var assignees = document.load("_roles.assigneesOf." + role + "[]?str|join()");

execution.setVariable("assigneesOfCurrentLine", assignees);</bpmn:script>
                </bpmn:scriptTask>
                <bpmn:sequenceFlow sourceRef="Activity_0hexp5t" targetRef="Activity_11w5800" name="" id="Flow_08p2krt" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:endEvent name="" id="Event_0htbeg3" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_0rz40t9</bpmn:incoming>
                </bpmn:endEvent>
                <bpmn:sequenceFlow sourceRef="Gateway_0rk66a9" targetRef="Event_0htbeg3" name="" id="Flow_0rz40t9" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            </bpmn:subProcess>
            <bpmn:sequenceFlow sourceRef="Event_0u6iw0e" targetRef="Gateway_12i16x3" name="" id="Flow_1cxw9g5" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_0rabk5d" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1nnfwq0</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_0orxly7" targetRef="Event_0rabk5d" name="" id="Flow_1nnfwq0" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_16o194l" targetRef="Activity_0orxly7" name="" id="Flow_1biltdb" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Подготовка SLA 2" id="Activity_16o194l" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Подготовка SLA 2&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var msg = &quot;Sla 2 prepare&quot;&#10;&#10;var slaDueDates = Records.query({&#10;    sourceId: &quot;service-desk/sd-sla-params&quot;,&#10;    query: {&#10;        record: document.getRef()&#10;    }&#10;}, {&#10;    timeToResolve: &quot;timeToResolve&quot;,&#10;    notificationToExecutorTimeResolve: &quot;notificationToExecutorTimeResolve&quot;,&#10;    notificationToSupervisorTimeResolve: &quot;notificationToSupervisorTimeResolve&quot;,&#10;    timeToResolveFromPause: &quot;timeToResolveFromPause&quot;,&#10;    notificationToExecutorTimeResolveFromPause: &quot;notificationToExecutorTimeResolveFromPause&quot;,&#10;    notificationToSupervisorTimeResolveFromPause: &quot;notificationToSupervisorTimeResolveFromPause&quot;&#10;});&#10;&#10;if (slaDueDates.records.length === 0) {&#10;    throw new Error(&quot;SLA параметры не найдены для: &quot; + document);&#10;}&#10;&#10;var params = slaDueDates.records[0];&#10;var sla2State = document.load(&quot;sla_2_state&quot;);&#10;&#10;msg += &quot;\nsla2State: &quot; + sla2State;&#10;msg += &quot;\nparams: &quot; + params;&#10;log.debug(msg);&#10;&#10;if (sla2State === &quot;CREATED&quot;) {&#10;&#10;    execution.setVariable(&quot;notificationToExecutorTimeResolve&quot;, params.notificationToExecutorTimeResolve);&#10;    execution.setVariable(&quot;notificationToSupervisorTimeResolve&quot;, params.notificationToSupervisorTimeResolve);&#10;&#10;    document.att(&quot;sla_2_state&quot;, &quot;RUNNING&quot;);&#10;    document.att(&quot;sla_2_due_date&quot;, params.timeToResolve);&#10;&#10;    var nowIso = new Date().toISOString();&#10;&#10;    document.att(&quot;sla_2_last_resume_time&quot;, nowIso);&#10;    document.att(&quot;sla_2_start_time&quot;, nowIso);&#10;&#10;    document.save();&#10;} else if (sla2State === &quot;PAUSE&quot;) {&#10;    if (params.timeToResolveFromPause === null) {&#10;        throw new Error(&quot;Не задан срок решения SLA из паузы для: &quot; + document);&#10;    }&#10;&#10;    execution.setVariable(&quot;notificationToExecutorTimeResolve&quot;, params.notificationToExecutorTimeResolveFromPause);&#10;    execution.setVariable(&quot;notificationToSupervisorTimeResolve&quot;, params.notificationToSupervisorTimeResolveFromPause);&#10;&#10;    document.att(&quot;sla_2_state&quot;, &quot;RUNNING&quot;);&#10;    document.att(&quot;sla_2_due_date&quot;, params.timeToResolveFromPause);&#10;    document.att(&quot;sla_2_last_resume_time&quot;, new Date().toISOString());&#10;&#10;    document.save();&#10;}">
                <bpmn:incoming >Flow_0gkychq</bpmn:incoming>
                <bpmn:outgoing >Flow_1biltdb</bpmn:outgoing>
                <bpmn:script>var msg = "Sla 2 prepare"

var slaDueDates = Records.query({
    sourceId: "service-desk/sd-sla-params",
    query: {
        record: document.getRef()
    }
}, {
    timeToResolve: "timeToResolve",
    notificationToExecutorTimeResolve: "notificationToExecutorTimeResolve",
    notificationToSupervisorTimeResolve: "notificationToSupervisorTimeResolve",
    timeToResolveFromPause: "timeToResolveFromPause",
    notificationToExecutorTimeResolveFromPause: "notificationToExecutorTimeResolveFromPause",
    notificationToSupervisorTimeResolveFromPause: "notificationToSupervisorTimeResolveFromPause"
});

if (slaDueDates.records.length === 0) {
    throw new Error("SLA параметры не найдены для: " + document);
}

var params = slaDueDates.records[0];
var sla2State = document.load("sla_2_state");

msg += "\nsla2State: " + sla2State;
msg += "\nparams: " + params;
log.debug(msg);

if (sla2State === "CREATED") {

    execution.setVariable("notificationToExecutorTimeResolve", params.notificationToExecutorTimeResolve);
    execution.setVariable("notificationToSupervisorTimeResolve", params.notificationToSupervisorTimeResolve);

    document.att("sla_2_state", "RUNNING");
    document.att("sla_2_due_date", params.timeToResolve);

    var nowIso = new Date().toISOString();

    document.att("sla_2_last_resume_time", nowIso);
    document.att("sla_2_start_time", nowIso);

    document.save();
} else if (sla2State === "PAUSE") {
    if (params.timeToResolveFromPause === null) {
        throw new Error("Не задан срок решения SLA из паузы для: " + document);
    }

    execution.setVariable("notificationToExecutorTimeResolve", params.notificationToExecutorTimeResolveFromPause);
    execution.setVariable("notificationToSupervisorTimeResolve", params.notificationToSupervisorTimeResolveFromPause);

    document.att("sla_2_state", "RUNNING");
    document.att("sla_2_due_date", params.timeToResolveFromPause);
    document.att("sla_2_last_resume_time", new Date().toISOString());

    document.save();
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_0orxly7" name="SLA 2 Пауза" id="Event_1vei2oe" ecos:documentation="{}" ecos:manualSignalName="sla-2-pause" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Пауза&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing>Flow_0a2s7hv</bpmn:outgoing>
                <bpmn:signalEventDefinition signalRef="Signal_hiaNiQT" id="SignalEventDefinition_02887vd"/>
            </bpmn:boundaryEvent>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_0orxly7" name="SLA 2 Завершение" id="Event_0er2bfv" ecos:documentation="{}" ecos:manualSignalName="sla-2-stop" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Завершение&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing>Flow_0nvky4d</bpmn:outgoing>
                <bpmn:signalEventDefinition signalRef="Signal_MUimD9w" id="SignalEventDefinition_1kero93"/>
            </bpmn:boundaryEvent>
            <bpmn:exclusiveGateway default="Flow_1yn84o6" name="" id="Gateway_12i16x3" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1cxw9g5</bpmn:incoming>
                <bpmn:outgoing >Flow_0gkychq</bpmn:outgoing>
                <bpmn:outgoing >Flow_1yn84o6</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_12i16x3" targetRef="Activity_16o194l" name="sla 2 state - created or pause" id="Flow_0gkychq" ecos:name_ml="{&quot;ru&quot;:&quot;sla 2 state - created or pause&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;var sla2State = document.load(\&quot;sla_2_state\&quot;);\n\nprint(\&quot;SLA 2 STATE: \&quot; + sla2State);\n\nsla2State === \&quot;CREATED\&quot; ||  sla2State === \&quot;PAUSE\&quot;;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
            <bpmn:endEvent name="" id="Event_02t83p5" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1yn84o6</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_12i16x3" targetRef="Event_02t83p5" name="" id="Flow_1yn84o6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_14pi254" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0nvky4d</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Event_0er2bfv" targetRef="Event_14pi254" name="" id="Flow_0nvky4d" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_1bwg651" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0a2s7hv</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Event_1vei2oe" targetRef="Event_1bwg651" name="" id="Flow_0a2s7hv" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_03kf0z2" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work', 'request-approve'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;var resolution = document.load(&quot;resolution&quot;);&#10;&#10;if (beforeStat.length &gt; 0) {&#10;    if (stats.indexOf(beforeStat) === -1) {&#10;        throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot; + beforeStat);&#10;    }&#10;}&#10;&#10;if (resolution === null) {&#10;    throw new Error(&quot;Невозможно закрыть заявку без указания резолюции&quot;)&#10;}">
            <bpmn:incoming >Flow_03y5nsj</bpmn:incoming>
            <bpmn:outgoing >Flow_0aoqcgy</bpmn:outgoing>
            <bpmn:script>var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work', 'request-approve'];
var beforeStat = event.get("before").asText();
var resolution = document.load("resolution");

if (beforeStat.length &gt; 0) {
    if (stats.indexOf(beforeStat) === -1) {
        throw new Error("Условия перехода не соблюдены. Предыдущий статус: " + beforeStat);
    }
}

if (resolution === null) {
    throw new Error("Невозможно закрыть заявку без указания резолюции")
}</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_0rvw39m" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
            <bpmn:incoming >Flow_0aoqcgy</bpmn:incoming>
            <bpmn:outgoing >Flow_1e3qk4d</bpmn:outgoing>
            <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:sequenceFlow sourceRef="Event_03oygdv" targetRef="Activity_0sinznk" name="" id="Flow_139do4u" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:intermediateThrowEvent name="SLA 2 Завершение" id="Event_03oygdv" ecos:documentation="{}" ecos:manualSignalName="sla-2-stop" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Завершение&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
            <bpmn:incoming >Flow_1e3qk4d</bpmn:incoming>
            <bpmn:outgoing >Flow_139do4u</bpmn:outgoing>
            <bpmn:signalEventDefinition  signalRef="Signal_MUimD9w" id="SignalEventDefinition_1byydkr"/>
        </bpmn:intermediateThrowEvent>
        <bpmn:task name="" id="Activity_1prs3s3" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-first-line">
            <bpmn:incoming >Flow_0p2g4j7</bpmn:incoming>
            <bpmn:outgoing >Flow_00tzpex</bpmn:outgoing>
        </bpmn:task>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_1ia6z48" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: В работе на 1-й линии ТП" id="Event_1mfr21j" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: В работе на 1-й линии ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-first-line-work&quot;}">
                <bpmn:outgoing >Flow_06zdhul</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_6OR7lHZ" id="SignalEventDefinition_0mbv4kx"/>
            </bpmn:startEvent>
            <bpmn:sendTask name="Ув. Инициатора о взятии в работу" id="Activity_05y1v0d" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о взятии в работу&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-take-to-work" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_1hy8i4t</bpmn:incoming>
                <bpmn:outgoing >Flow_1xn15mo</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:sequenceFlow sourceRef="Activity_05y1v0d" targetRef="Activity_1vkdmxx" name="" id="Flow_1xn15mo" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:userTask name="Обработка заявки. 1-я линия ТП" id="Activity_1vkdmxx" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;toSecondSupportLine&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Передать 2-й линии ТП&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toThirdSupportLine&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Передать 3-й линии ТП&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toHold&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На удержание&quot;,&quot;en&quot;:&quot;To hold&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;closeRequest&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Закрыть заявку&quot;,&quot;en&quot;:&quot;Close request&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toClarification&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На уточнение&quot;,&quot;en&quot;:&quot;To clarification&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toApprove&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На подтверждение выполнения&quot;,&quot;en&quot;:&quot;To approve&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Обработка заявки. 1-я линия ТП&quot;,&quot;en&quot;:&quot;Request processing. 1st support line&quot;}" ecos:formRef="uiserv/form@sd-request-processing-first-line" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;impl-first-line-role&quot;]">
                <bpmn:incoming >Flow_1xn15mo</bpmn:incoming>
                <bpmn:outgoing >Flow_1x8haed</bpmn:outgoing>
            </bpmn:userTask>
            <bpmn:sequenceFlow sourceRef="Activity_1vkdmxx" targetRef="Gateway_1aidnf5" name="" id="Flow_1x8haed" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway default="Flow_0qx7ywy" name="" id="Gateway_1aidnf5" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1x8haed</bpmn:incoming>
                <bpmn:outgoing >Flow_0qx7ywy</bpmn:outgoing>
                <bpmn:outgoing >Flow_1egu2ag</bpmn:outgoing>
                <bpmn:outgoing >Flow_13k3va4</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение текущей задачи" id="Activity_0cultoj" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение текущей задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_0ok0jcj</bpmn:incoming>
                <bpmn:outgoing >Flow_1hy8i4t</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:exclusiveGateway default="Flow_0ihhif5" name="" id="Gateway_0cigs93" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_0qx7ywy</bpmn:incoming>
                <bpmn:outgoing >Flow_0ihhif5</bpmn:outgoing>
                <bpmn:outgoing >Flow_13lhq39</bpmn:outgoing>
                <bpmn:outgoing >Flow_0jv9aym</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_1aidnf5" targetRef="Gateway_0cigs93" name="" id="Flow_0qx7ywy" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_0bzcy74" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1awvjlq</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:exclusiveGateway default="Flow_1awvjlq" name="" id="Gateway_0i1ywqk" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_0ihhif5</bpmn:incoming>
                <bpmn:outgoing >Flow_1awvjlq</bpmn:outgoing>
                <bpmn:outgoing >Flow_04qc74r</bpmn:outgoing>
                <bpmn:outgoing >Flow_1sw4qp6</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_0cigs93" targetRef="Gateway_0i1ywqk" name="" id="Flow_0ihhif5" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_0i1ywqk" targetRef="Event_0bzcy74" name="" id="Flow_1awvjlq" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:task name="" id="Activity_0c9vayk" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-second-line">
                <bpmn:incoming >Flow_1egu2ag</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1aidnf5" targetRef="Activity_0c9vayk" name="" id="Flow_1egu2ag" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1vkdmxx:toSecondSupportLine&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_110nugz" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-third-line">
                <bpmn:incoming >Flow_13k3va4</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1aidnf5" targetRef="Activity_110nugz" name="" id="Flow_13k3va4" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1vkdmxx:toThirdSupportLine&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_0q87krm" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-hold">
                <bpmn:incoming >Flow_0ozqzhy</bpmn:incoming>
            </bpmn:task>
            <bpmn:task name="" id="Activity_1ykfguu" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-closes">
                <bpmn:incoming >Flow_13lhq39</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_0cigs93" targetRef="Activity_1ykfguu" name="" id="Flow_13lhq39" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1vkdmxx:closeRequest&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_16qeug5" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-clarification">
                <bpmn:incoming >Flow_1gk6qxd</bpmn:incoming>
            </bpmn:task>
            <bpmn:task name="" id="Activity_1j0uy8k" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-approve">
                <bpmn:incoming >Flow_04qc74r</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_0i1ywqk" targetRef="Activity_1j0uy8k" name="" id="Flow_04qc74r" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1vkdmxx:toApprove&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Event_1mfr21j" targetRef="Activity_0ffn4sx" name="" id="Flow_06zdhul" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_0ffn4sx" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;if(beforeStat !== 'request-first-line') {&#10;  throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_06zdhul</bpmn:incoming>
                <bpmn:outgoing >Flow_0ok0jcj</bpmn:outgoing>
                <bpmn:script>var beforeStat = event.get("before").asText();

if(beforeStat !== 'request-first-line') {
  throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0ffn4sx" targetRef="Activity_0cultoj" name="" id="Flow_0ok0jcj" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_0cultoj" targetRef="Activity_05y1v0d" name="" id="Flow_1hy8i4t" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_0i1ywqk" targetRef="Activity_09ny55q" name="" id="Flow_1sw4qp6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1vkdmxx:toClarification&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_09ny55q" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_1sw4qp6</bpmn:incoming>
                <bpmn:outgoing >Flow_1gk6qxd</bpmn:outgoing>
                <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_09ny55q" targetRef="Activity_16qeug5" name="" id="Flow_1gk6qxd" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_0cigs93" targetRef="Activity_1so4opc" name="" id="Flow_0jv9aym" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1vkdmxx:toHold&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Activity_1so4opc" targetRef="Activity_0q87krm" name="" id="Flow_0ozqzhy" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_1so4opc" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_0jv9aym</bpmn:incoming>
                <bpmn:outgoing >Flow_0ozqzhy</bpmn:outgoing>
                <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="Ожидание 2-я линия" id="Activity_1g09ruj" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ожидание 2-я линия&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: Передано 2-й линии ТП" id="Event_0ft1bhm" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: Передано 2-й линии ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-second-line&quot;}">
                <bpmn:outgoing >Flow_1d0b7zp</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_nkPLrxr" id="SignalEventDefinition_0a3ngj6"/>
            </bpmn:startEvent>
            <bpmn:sendTask name="Ув. 2-й линии" id="Activity_1i0yyds" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. 2-й линии&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-assign-task" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;impl-second-line-role&quot;]" ecos:documentation="{}" ecos:notificationTitle="2" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationBody="&lt;p&gt;2&lt;/p&gt;" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_08nux2r</bpmn:incoming>
                <bpmn:outgoing >Flow_11icdc4</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:sequenceFlow sourceRef="Activity_1i0yyds" targetRef="Activity_0j3qz9x" name="" id="Flow_11icdc4" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:userTask name="Задача взятия в работу" id="Activity_0j3qz9x" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;takeToWork&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Взять в работу&quot;,&quot;en&quot;:&quot;Take to work&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Задача взятия в работу&quot;,&quot;en&quot;:&quot;Task of taking to work&quot;}" ecos:formRef="uiserv/form@sd-request-take-to-work" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;impl-second-line-role&quot;]">
                <bpmn:incoming >Flow_11icdc4</bpmn:incoming>
                <bpmn:outgoing >Flow_0lx7v1u</bpmn:outgoing>
            </bpmn:userTask>
            <bpmn:exclusiveGateway default="Flow_1rbe5lu" name="" id="Gateway_0tblwyo" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_0lx7v1u</bpmn:incoming>
                <bpmn:outgoing >Flow_0tjizsy</bpmn:outgoing>
                <bpmn:outgoing >Flow_1rbe5lu</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:exclusiveGateway name="" id="Gateway_1fjilzb" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_0ibo4q5</bpmn:incoming>
                <bpmn:incoming >Flow_1rbe5lu</bpmn:incoming>
                <bpmn:outgoing >Flow_1vyc832</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:endEvent name="" id="Event_08vcr23" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1vyc832</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_1fjilzb" targetRef="Event_08vcr23" name="" id="Flow_1vyc832" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:task name="" id="Activity_0hfv3sf" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-second-line-work">
                <bpmn:incoming >Flow_0tjizsy</bpmn:incoming>
                <bpmn:outgoing >Flow_0ibo4q5</bpmn:outgoing>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Activity_0hfv3sf" targetRef="Gateway_1fjilzb" name="" id="Flow_0ibo4q5" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_0j3qz9x" targetRef="Gateway_0tblwyo" name="" id="Flow_0lx7v1u" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_0tblwyo" targetRef="Activity_0hfv3sf" name="" id="Flow_0tjizsy" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_0j3qz9x:takeToWork&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Gateway_0tblwyo" targetRef="Gateway_1fjilzb" name="" id="Flow_1rbe5lu" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0ft1bhm" targetRef="Activity_01oxcnh" name="" id="Flow_1d0b7zp" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_01oxcnh" targetRef="Activity_1xw5wzx" name="" id="Flow_1a0kdj6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_0r012ra" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_09c0a1i</bpmn:incoming>
                <bpmn:outgoing >Flow_08nux2r</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0r012ra" targetRef="Activity_1i0yyds" name="" id="Flow_08nux2r" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_01oxcnh" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-first-line-work', 'request-clarification', 'request-approve'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;&#10;if (beforeStat.length === 0) {&#10;    throw new Error(&quot;Предыдущий статус не определен&quot;);&#10;}&#10;&#10;if (stats.indexOf(beforeStat) === -1) {&#10;    throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_1d0b7zp</bpmn:incoming>
                <bpmn:outgoing >Flow_1a0kdj6</bpmn:outgoing>
                <bpmn:script>var stats = ['request-first-line-work', 'request-clarification', 'request-approve'];
var beforeStat = event.get("before").asText();


if (beforeStat.length === 0) {
    throw new Error("Предыдущий статус не определен");
}

if (stats.indexOf(beforeStat) === -1) {
    throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:scriptTask scriptFormat="javascript" name="Текущая линия = 2" id="Activity_1xw5wzx" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Текущая линия = 2&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="execution.setVariable(&quot;currentLine&quot;, 2);">
                <bpmn:incoming >Flow_1a0kdj6</bpmn:incoming>
                <bpmn:outgoing >Flow_09c0a1i</bpmn:outgoing>
                <bpmn:script>execution.setVariable("currentLine", 2);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_1xw5wzx" targetRef="Activity_0r012ra" name="" id="Flow_09c0a1i" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="В работе 2-линия" id="Activity_1wczbw9" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;В работе 2-линия&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: В работе на 2-й линии ТП" id="Event_03edsw7" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: В работе на 2-й линии ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-second-line-work&quot;}">
                <bpmn:outgoing >Flow_11e9ec0</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_EQICAFV" id="SignalEventDefinition_0bm4zqi"/>
            </bpmn:startEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_0o9slan" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_0x3ele7</bpmn:incoming>
                <bpmn:outgoing >Flow_0u5veof</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0o9slan" targetRef="Activity_1x51frw" name="" id="Flow_0u5veof" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sendTask name="Ув. Инициатора о взятии в работу" id="Activity_1x51frw" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о взятии в работу&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-take-to-work" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_0u5veof</bpmn:incoming>
                <bpmn:outgoing >Flow_01hyu23</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:sequenceFlow sourceRef="Activity_1x51frw" targetRef="Activity_1bpanwe" name="" id="Flow_01hyu23" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:userTask name="Обработка заявки. 2-я линия ТП" id="Activity_1bpanwe" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;toFirstSupportLine&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Передать 1-й линии&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toThirdSupportLine&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Передать 3-й линии&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toHold&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На удержание&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toClarification&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На уточнение&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;closeRequest&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Закрыть&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toApprove&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На подтверждение выполнения&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Обработка заявки. 2-я линия ТП&quot;,&quot;en&quot;:&quot;Request processing. 2nd support line&quot;}" ecos:formRef="uiserv/form@sd-request-processing-second-line" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;impl-second-line-role&quot;]">
                <bpmn:incoming >Flow_01hyu23</bpmn:incoming>
                <bpmn:outgoing >Flow_12arqqv</bpmn:outgoing>
            </bpmn:userTask>
            <bpmn:exclusiveGateway default="Flow_1kpnnt1" name="" id="Gateway_0dhan6j" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_12arqqv</bpmn:incoming>
                <bpmn:outgoing >Flow_1kpnnt1</bpmn:outgoing>
                <bpmn:outgoing >Flow_1azqz0e</bpmn:outgoing>
                <bpmn:outgoing >Flow_0snpo48</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:endEvent name="" id="Event_13n3zl5" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_08o9osr</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_1bpanwe" targetRef="Gateway_0dhan6j" name="" id="Flow_12arqqv" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway default="Flow_1ama7ql" name="" id="Gateway_1oxjynk" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1kpnnt1</bpmn:incoming>
                <bpmn:outgoing >Flow_1ama7ql</bpmn:outgoing>
                <bpmn:outgoing >Flow_14gi43y</bpmn:outgoing>
                <bpmn:outgoing >Flow_0v3g9fn</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_0dhan6j" targetRef="Gateway_1oxjynk" name="" id="Flow_1kpnnt1" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway default="Flow_08o9osr" name="" id="Gateway_1ou51nj" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1ama7ql</bpmn:incoming>
                <bpmn:outgoing >Flow_08o9osr</bpmn:outgoing>
                <bpmn:outgoing >Flow_1p6w0az</bpmn:outgoing>
                <bpmn:outgoing >Flow_129b5ad</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_1oxjynk" targetRef="Gateway_1ou51nj" name="" id="Flow_1ama7ql" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_1ou51nj" targetRef="Event_13n3zl5" name="" id="Flow_08o9osr" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:task name="" id="Activity_0tkgasg" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-first-line">
                <bpmn:incoming >Flow_1azqz0e</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_0dhan6j" targetRef="Activity_0tkgasg" name="" id="Flow_1azqz0e" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1bpanwe:toFirstSupportLine&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_1ii83hk" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-third-line">
                <bpmn:incoming >Flow_0snpo48</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_0dhan6j" targetRef="Activity_1ii83hk" name="" id="Flow_0snpo48" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1bpanwe:toThirdSupportLine&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_00fhtuh" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-hold">
                <bpmn:incoming >Flow_1nmf8cs</bpmn:incoming>
            </bpmn:task>
            <bpmn:task name="" id="Activity_02c29bm" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-closes">
                <bpmn:incoming >Flow_14gi43y</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1oxjynk" targetRef="Activity_02c29bm" name="" id="Flow_14gi43y" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1bpanwe:closeRequest&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_0sr4zsr" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-clarification">
                <bpmn:incoming >Flow_03dklbe</bpmn:incoming>
            </bpmn:task>
            <bpmn:task name="" id="Activity_0mlgur0" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-approve">
                <bpmn:incoming >Flow_1p6w0az</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1ou51nj" targetRef="Activity_0mlgur0" name="" id="Flow_1p6w0az" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1bpanwe:toApprove&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Event_03edsw7" targetRef="Activity_0q1ew99" name="" id="Flow_11e9ec0" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_0q1ew99" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;if(beforeStat  !== 'request-second-line') {&#10;  throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_11e9ec0</bpmn:incoming>
                <bpmn:outgoing >Flow_0x3ele7</bpmn:outgoing>
                <bpmn:script>var beforeStat = event.get("before").asText();

if(beforeStat  !== 'request-second-line') {
  throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0q1ew99" targetRef="Activity_0o9slan" name="" id="Flow_0x3ele7" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_1ou51nj" targetRef="Activity_0deyxsq" name="" id="Flow_129b5ad" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1bpanwe:toClarification&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Activity_0deyxsq" targetRef="Activity_0sr4zsr" name="" id="Flow_03dklbe" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_0deyxsq" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_129b5ad</bpmn:incoming>
                <bpmn:outgoing >Flow_03dklbe</bpmn:outgoing>
                <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Gateway_1oxjynk" targetRef="Activity_0dr7pau" name="" id="Flow_0v3g9fn" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1bpanwe:toHold&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Activity_0dr7pau" targetRef="Activity_00fhtuh" name="" id="Flow_1nmf8cs" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_0dr7pau" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_0v3g9fn</bpmn:incoming>
                <bpmn:outgoing >Flow_1nmf8cs</bpmn:outgoing>
                <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_0w083oy" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: Передано 3-й линии ТП" id="Event_196253k" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: Передано 3-й линии ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-third-line&quot;}">
                <bpmn:outgoing >Flow_0zh6uz7</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_1h6diGc" id="SignalEventDefinition_0sm2tv3"/>
            </bpmn:startEvent>
            <bpmn:sendTask name="Ув. 3-й линии" id="Activity_1328tk0" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. 3-й линии&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-assign-task" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;impl-third-line-role&quot;]" ecos:documentation="{}" ecos:notificationTitle="3" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationBody="&lt;p&gt;3&lt;/p&gt;" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_1vahtwc</bpmn:incoming>
                <bpmn:outgoing >Flow_1qe9c4i</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:userTask name="Задача взятия в работу" id="Activity_1lgwv6p" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;takeToWork&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Взять в работу&quot;,&quot;en&quot;:&quot;Take to work&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Задача взятия в работу&quot;,&quot;en&quot;:&quot;Task of taking to work&quot;}" ecos:formRef="uiserv/form@sd-request-take-to-work" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;impl-third-line-role&quot;]">
                <bpmn:incoming >Flow_1qe9c4i</bpmn:incoming>
                <bpmn:outgoing >Flow_0ca7oz1</bpmn:outgoing>
            </bpmn:userTask>
            <bpmn:exclusiveGateway default="Flow_078bpnr" name="" id="Gateway_1w71yqj" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_0ca7oz1</bpmn:incoming>
                <bpmn:outgoing >Flow_078bpnr</bpmn:outgoing>
                <bpmn:outgoing >Flow_1ph7aio</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Activity_1328tk0" targetRef="Activity_1lgwv6p" name="" id="Flow_1qe9c4i" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_1lgwv6p" targetRef="Gateway_1w71yqj" name="" id="Flow_0ca7oz1" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway default="Flow_1vahtwc" name="" id="Gateway_0molh7x" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_01o7eso</bpmn:incoming>
                <bpmn:outgoing >Flow_1vahtwc</bpmn:outgoing>
                <bpmn:outgoing >Flow_11rhbvg</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_0molh7x" targetRef="Activity_1328tk0" name="" id="Flow_1vahtwc" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway name="" id="Gateway_0ntlr54" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_078bpnr</bpmn:incoming>
                <bpmn:incoming >Flow_1eac4bn</bpmn:incoming>
                <bpmn:outgoing >Flow_0hmsrkf</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_1w71yqj" targetRef="Gateway_0ntlr54" name="Автоматический переход" id="Flow_078bpnr" ecos:name_ml="{&quot;ru&quot;:&quot;Автоматический переход&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_19l5bj6" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0hmsrkf</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_0ntlr54" targetRef="Event_19l5bj6" name="" id="Flow_0hmsrkf" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway name="" id="Gateway_1nbom6a" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1ph7aio</bpmn:incoming>
                <bpmn:incoming >Flow_11rhbvg</bpmn:incoming>
                <bpmn:outgoing >Flow_1x3y2h8</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_1w71yqj" targetRef="Gateway_1nbom6a" name="" id="Flow_1ph7aio" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1lgwv6p:takeToWork&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Event_196253k" targetRef="Activity_158rhg6" name="" id="Flow_0zh6uz7" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_158rhg6" targetRef="Activity_1kgyb1x" name="" id="Flow_0nmsb9r" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_09t0e23" targetRef="Gateway_0molh7x" name="" id="Flow_01o7eso" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_158rhg6" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-first-line-work', 'request-second-line-work', 'request-clarification', 'request-approve'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;&#10;if (beforeStat.length === 0) {&#10;    throw new Error(&quot;Предыдущий статус не определен&quot;);&#10;}&#10;&#10;if (stats.indexOf(beforeStat) === -1) {&#10;    throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_0zh6uz7</bpmn:incoming>
                <bpmn:outgoing >Flow_0nmsb9r</bpmn:outgoing>
                <bpmn:script>var stats = ['request-first-line-work', 'request-second-line-work', 'request-clarification', 'request-approve'];
var beforeStat = event.get("before").asText();


if (beforeStat.length === 0) {
    throw new Error("Предыдущий статус не определен");
}

if (stats.indexOf(beforeStat) === -1) {
    throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_09t0e23" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_17dspur</bpmn:incoming>
                <bpmn:outgoing >Flow_01o7eso</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Gateway_0molh7x" targetRef="Gateway_1nbom6a" name="Задан исполнитель 3-й линии ТП" id="Flow_11rhbvg" ecos:name_ml="{&quot;ru&quot;:&quot;Задан исполнитель 3-й линии ТП&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;implementerThirdLineSupport\&quot;) !== null;\n&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
            <bpmn:task name="" id="Activity_1pihd9b" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-third-line-work">
                <bpmn:incoming >Flow_1x3y2h8</bpmn:incoming>
                <bpmn:outgoing >Flow_1eac4bn</bpmn:outgoing>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1nbom6a" targetRef="Activity_1pihd9b" name="" id="Flow_1x3y2h8" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_1pihd9b" targetRef="Gateway_0ntlr54" name="" id="Flow_1eac4bn" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Текущая линия = 3" id="Activity_1kgyb1x" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Текущая линия = 3&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="execution.setVariable(&quot;currentLine&quot;, 3)">
                <bpmn:incoming >Flow_0nmsb9r</bpmn:incoming>
                <bpmn:outgoing >Flow_17dspur</bpmn:outgoing>
                <bpmn:script>execution.setVariable("currentLine", 3)</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_1kgyb1x" targetRef="Activity_09t0e23" name="" id="Flow_17dspur" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="В работе 3-я линия" id="Activity_0tviscz" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;В работе 3-я линия&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: В работе на 3-й линии ТП" id="Event_0bn7u2j" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: В работе на 3-й линии ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-third-line-work&quot;}">
                <bpmn:outgoing >Flow_0xi0aud</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_y4ToQPX" id="SignalEventDefinition_0vouobj"/>
            </bpmn:startEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_0rv644c" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_0coum4j</bpmn:incoming>
                <bpmn:outgoing >Flow_03tiasi</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sendTask name="Ув. Инициатора о взятии в работу" id="Activity_11a8yb0" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о взятии в работу&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-take-to-work" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_03tiasi</bpmn:incoming>
                <bpmn:outgoing >Flow_0yvqsxt</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:userTask name="Обработка заявки. 3-я линия ТП" id="Activity_1cedv42" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;toFirstSupportLine&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Передать 1-й линии&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toHold&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На удержание&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toClarification&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На уточнение&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;closeRequest&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Закрыть&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;toApprove&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;На подтверждение выполнения&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Обработка заявки. 3-я линия ТП&quot;,&quot;en&quot;:&quot;Request processing. 3rd support line&quot;}" ecos:formRef="uiserv/form@sd-request-processing-third-line" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;impl-third-line-role&quot;]">
                <bpmn:incoming >Flow_0yvqsxt</bpmn:incoming>
                <bpmn:outgoing >Flow_1yhxjlo</bpmn:outgoing>
            </bpmn:userTask>
            <bpmn:exclusiveGateway default="Flow_1ug0y4n" name="" id="Gateway_1amnbvs" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1yhxjlo</bpmn:incoming>
                <bpmn:outgoing >Flow_1ug0y4n</bpmn:outgoing>
                <bpmn:outgoing >Flow_14lx7i2</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:endEvent name="" id="Event_155buyn" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_12gtm8p</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_0rv644c" targetRef="Activity_11a8yb0" name="" id="Flow_03tiasi" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_11a8yb0" targetRef="Activity_1cedv42" name="" id="Flow_0yvqsxt" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_1cedv42" targetRef="Gateway_1amnbvs" name="" id="Flow_1yhxjlo" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway default="Flow_0zxrb4b" name="" id="Gateway_1pqbm4e" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1ug0y4n</bpmn:incoming>
                <bpmn:outgoing >Flow_0zxrb4b</bpmn:outgoing>
                <bpmn:outgoing >Flow_0q0bej6</bpmn:outgoing>
                <bpmn:outgoing >Flow_013fusr</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_1amnbvs" targetRef="Gateway_1pqbm4e" name="" id="Flow_1ug0y4n" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway default="Flow_12gtm8p" name="" id="Gateway_1thkp2k" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_0zxrb4b</bpmn:incoming>
                <bpmn:outgoing >Flow_12gtm8p</bpmn:outgoing>
                <bpmn:outgoing >Flow_0eh4c8a</bpmn:outgoing>
                <bpmn:outgoing >Flow_0ujxg72</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Gateway_1pqbm4e" targetRef="Gateway_1thkp2k" name="" id="Flow_0zxrb4b" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_1thkp2k" targetRef="Event_155buyn" name="" id="Flow_12gtm8p" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:task name="" id="Activity_09dy0j7" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-first-line">
                <bpmn:incoming >Flow_14lx7i2</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1amnbvs" targetRef="Activity_09dy0j7" name="" id="Flow_14lx7i2" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1cedv42:toFirstSupportLine&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_0wn91cs" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-hold">
                <bpmn:incoming >Flow_11a8ihf</bpmn:incoming>
            </bpmn:task>
            <bpmn:task name="" id="Activity_16qy7ec" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-closes">
                <bpmn:incoming >Flow_0q0bej6</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1pqbm4e" targetRef="Activity_16qy7ec" name="" id="Flow_0q0bej6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1cedv42:closeRequest&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:task name="" id="Activity_0e4gpjt" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-clarification">
                <bpmn:incoming >Flow_0b1w0tr</bpmn:incoming>
            </bpmn:task>
            <bpmn:task name="" id="Activity_03muc8r" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-approve">
                <bpmn:incoming >Flow_0eh4c8a</bpmn:incoming>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_1thkp2k" targetRef="Activity_03muc8r" name="" id="Flow_0eh4c8a" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1cedv42:toApprove&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Event_0bn7u2j" targetRef="Activity_0l4h84z" name="" id="Flow_0xi0aud" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_0l4h84z" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;if(beforeStat  !== &quot;request-third-line&quot;) {&#10;  throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_0xi0aud</bpmn:incoming>
                <bpmn:outgoing >Flow_0coum4j</bpmn:outgoing>
                <bpmn:script>var beforeStat = event.get("before").asText();

if(beforeStat  !== "request-third-line") {
  throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0l4h84z" targetRef="Activity_0rv644c" name="" id="Flow_0coum4j" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_1thkp2k" targetRef="Activity_0ntn9gy" name="" id="Flow_0ujxg72" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1cedv42:toClarification&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Activity_0ntn9gy" targetRef="Activity_0e4gpjt" name="" id="Flow_0b1w0tr" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_0ntn9gy" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_0ujxg72</bpmn:incoming>
                <bpmn:outgoing >Flow_0b1w0tr</bpmn:outgoing>
                <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Gateway_1pqbm4e" targetRef="Activity_1aq2go3" name="" id="Flow_013fusr" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_1cedv42:toHold&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Activity_1aq2go3" targetRef="Activity_0wn91cs" name="" id="Flow_11a8ihf" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_1aq2go3" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_013fusr</bpmn:incoming>
                <bpmn:outgoing >Flow_11a8ihf</bpmn:outgoing>
                <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="Уточнение" id="Activity_10ytz2r" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Уточнение&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: На уточнении" id="Event_0xsln6t" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: На уточнении&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-clarification&quot;}">
                <bpmn:outgoing >Flow_0bwog0p</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_ivvrDJ6" id="SignalEventDefinition_1z0xsds"/>
            </bpmn:startEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Заверщение активной задачи" id="Activity_1c9zo5l" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Заверщение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_063p9je</bpmn:incoming>
                <bpmn:outgoing >Flow_14iwcfz</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:subProcess triggeredByEvent="false" name="" id="Activity_0ol278f" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0mymgch</bpmn:incoming>
                <bpmn:outgoing >Flow_1oz8mnz</bpmn:outgoing>
                <bpmn:startEvent isInterrupting="true" name="" id="Event_066s0wc" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:outgoing >Flow_1e68jye</bpmn:outgoing>
                </bpmn:startEvent>
                <bpmn:sendTask name="Ув. Инициатору о запросе уточнения" id="Activity_0mwzf9t" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатору о запросе уточнения&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-clarification" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                    <bpmn:incoming >Flow_1e68jye</bpmn:incoming>
                    <bpmn:outgoing >Flow_08qba6j</bpmn:outgoing>
                </bpmn:sendTask>
                <bpmn:exclusiveGateway name="" id="Gateway_1o8zlxo" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_08qba6j</bpmn:incoming>
                    <bpmn:outgoing >Flow_0q16jse</bpmn:outgoing>
                    <bpmn:outgoing >Flow_12677rt</bpmn:outgoing>
                </bpmn:exclusiveGateway>
                <bpmn:intermediateCatchEvent name="В заявку добавлен комментарий от представителя заказчика" id="Event_0wuekqf" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{&quot;initiator&quot;:&quot;record.initiator.id&quot;,&quot;clientSupport&quot;:&quot;record._roles.assigneesOf.client-support[]&quot;}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;В заявку добавлен комментарий от представителя заказчика&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="COMMENT_CREATE" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;or&quot;,&quot;val&quot;:[{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;commentRecord._creator.id&quot;,&quot;val&quot;:&quot;{{initiator}}&quot;},{&quot;t&quot;:&quot;contains&quot;,&quot;att&quot;:&quot;commentRecord._creator.authorities.list[]&quot;,&quot;val&quot;:&quot;{{clientSupport}}&quot;}]}">
                    <bpmn:incoming >Flow_0q16jse</bpmn:incoming>
                    <bpmn:outgoing >Flow_1806pgm</bpmn:outgoing>
                    <bpmn:signalEventDefinition  signalRef="Signal_lNRsxpR" id="SignalEventDefinition_0gwqd5n"/>
                </bpmn:intermediateCatchEvent>
                <bpmn:exclusiveGateway name="" id="Gateway_1eztcj3" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_1pbmjv9</bpmn:incoming>
                    <bpmn:incoming >Flow_1806pgm</bpmn:incoming>
                    <bpmn:outgoing >Flow_1ahth3i</bpmn:outgoing>
                </bpmn:exclusiveGateway>
                <bpmn:scriptTask scriptFormat="javascript" name="Определение предыдущей линии и назначение статуса" id="Activity_1o97d7q" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Определение предыдущей линии и назначение статуса&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var line = execution.getVariable(&quot;currentLine&quot;);&#10;&#10;if(line === 1) {&#10;  document.att(&quot;_status&quot;, &quot;request-first-line&quot;);&#10;  document.save();&#10;} else if(line === 2) {&#10;  document.att(&quot;_status&quot;, &quot;request-second-line&quot;);&#10;  document.save();&#10;} else if(line === 3) {&#10;  document.att(&quot;_status&quot;, &quot;request-third-line&quot;);&#10;  document.save();&#10;} else {&#10;  throw new Error(&quot;Предыдущая линия не определена&quot;);&#10;}">
                    <bpmn:incoming >Flow_1ahth3i</bpmn:incoming>
                    <bpmn:outgoing >Flow_16xoi3w</bpmn:outgoing>
                    <bpmn:script>var line = execution.getVariable("currentLine");

if(line === 1) {
  document.att("_status", "request-first-line");
  document.save();
} else if(line === 2) {
  document.att("_status", "request-second-line");
  document.save();
} else if(line === 3) {
  document.att("_status", "request-third-line");
  document.save();
} else {
  throw new Error("Предыдущая линия не определена");
}</bpmn:script>
                </bpmn:scriptTask>
                <bpmn:endEvent name="" id="Event_1bo2z8h" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_16xoi3w</bpmn:incoming>
                </bpmn:endEvent>
                <bpmn:sequenceFlow sourceRef="Event_066s0wc" targetRef="Activity_0mwzf9t" name="" id="Flow_1e68jye" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Activity_0mwzf9t" targetRef="Gateway_1o8zlxo" name="" id="Flow_08qba6j" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_1o8zlxo" targetRef="Event_0wuekqf" name="Внешний заказчик" id="Flow_0q16jse" ecos:name_ml="{&quot;ru&quot;:&quot;Внешний заказчик&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;petitionChannel\&quot;) === \&quot;external\&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
                <bpmn:sequenceFlow sourceRef="Gateway_1o8zlxo" targetRef="Activity_0dsh5l7" name="Внутренний заказчик" id="Flow_12677rt" ecos:name_ml="{&quot;ru&quot;:&quot;Внутренний заказчик&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;petitionChannel\&quot;) === \&quot;internal\&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
                <bpmn:sequenceFlow sourceRef="Event_0wuekqf" targetRef="Gateway_1eztcj3" name="" id="Flow_1806pgm" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Activity_0dsh5l7" targetRef="Gateway_1eztcj3" name="" id="Flow_1pbmjv9" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_1eztcj3" targetRef="Activity_1o97d7q" name="" id="Flow_1ahth3i" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Activity_1o97d7q" targetRef="Event_1bo2z8h" name="" id="Flow_16xoi3w" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:userTask name="Уточнение данных" id="Activity_0dsh5l7" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;sent&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Отправить&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Уточнение данных&quot;}" ecos:formRef="uiserv/form@sd-request-clarification" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;initiator-role&quot;]">
                    <bpmn:incoming >Flow_12677rt</bpmn:incoming>
                    <bpmn:outgoing >Flow_1pbmjv9</bpmn:outgoing>
                </bpmn:userTask>
                <bpmn:textAnnotation id="TextAnnotation_1pwsifm" ecos:name_ml="{&quot;ru&quot;:&quot;Итог - перенаправление на один из статусов: Передано 1-й, 2-й или 3-й линии&quot;}">
                    <bpmn:text>Итог - перенаправление на один из статусов: Передано 1-й, 2-й или 3-й линии</bpmn:text>
                </bpmn:textAnnotation>
                <bpmn:association  sourceRef="Activity_1o97d7q" targetRef="TextAnnotation_1pwsifm" id="Association_1lxyqjq"/>
            </bpmn:subProcess>
            <bpmn:sequenceFlow sourceRef="Activity_1c9zo5l" targetRef="Event_0k5fat1" name="" id="Flow_14iwcfz" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0xsln6t" targetRef="Activity_11jvxin" name="" id="Flow_0bwog0p" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_11jvxin" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;&#10;if (beforeStat.length === 0) {&#10;    throw new Error(&quot;Предыдущий статус не определен&quot;);&#10;}&#10;&#10;if (stats.indexOf(beforeStat) === -1) {&#10;    throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_0bwog0p</bpmn:incoming>
                <bpmn:outgoing >Flow_19lov4t</bpmn:outgoing>
                <bpmn:script>var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work'];
var beforeStat = event.get("before").asText();


if (beforeStat.length === 0) {
    throw new Error("Предыдущий статус не определен");
}

if (stats.indexOf(beforeStat) === -1) {
    throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_11jvxin" targetRef="Activity_04y90n0" name="" id="Flow_19lov4t" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_0ol278f" name="" id="Event_0j6gdz4" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${timeToSendFirstLineFromClarify}&quot;}">
                <bpmn:outgoing>Flow_1s7nb3s</bpmn:outgoing>
                <bpmn:timerEventDefinition id="TimerEventDefinition_0hpeqve">
                    <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${timeToSendFirstLineFromClarify}</bpmn:timeDate>
                </bpmn:timerEventDefinition>
            </bpmn:boundaryEvent>
            <bpmn:sequenceFlow sourceRef="Event_0j6gdz4" targetRef="Activity_1gz2hue" name="Предельный срок уточнения" id="Flow_1s7nb3s" ecos:name_ml="{&quot;ru&quot;:&quot;Предельный срок уточнения&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_04y90n0" targetRef="Activity_1c9zo5l" name="" id="Flow_063p9je" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Получение предельного срока уточнения" id="Activity_04y90n0" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Получение предельного срока уточнения&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var slaDueDates = Records.query({&#10;    sourceId: &quot;service-desk/sd-sla-params&quot;,&#10;    query: {&#10;        record: document.getRef()&#10;    }&#10;}, {&#10;    timeToSendFirstLineFromClarify: &quot;timeToSendFirstLineFromClarify&quot;&#10;});&#10;&#10;if (slaDueDates.records.length === 0) {&#10;  throw new Error(&quot;SLA параметры не найдены для: &quot; + document);&#10;}&#10;&#10;var timeToSendFirstLineFromClarify = slaDueDates.records[0].timeToSendFirstLineFromClarify&#10;&#10;if (timeToSendFirstLineFromClarify === null) {&#10;  throw new Error(&quot;SLA параметр timeToSendFirstLineFromClarify не найден&quot;);&#10;}&#10;&#10;execution.setVariable(&quot;timeToSendFirstLineFromClarify&quot;, timeToSendFirstLineFromClarify);">
                <bpmn:incoming >Flow_19lov4t</bpmn:incoming>
                <bpmn:outgoing >Flow_063p9je</bpmn:outgoing>
                <bpmn:script>var slaDueDates = Records.query({
    sourceId: "service-desk/sd-sla-params",
    query: {
        record: document.getRef()
    }
}, {
    timeToSendFirstLineFromClarify: "timeToSendFirstLineFromClarify"
});

if (slaDueDates.records.length === 0) {
  throw new Error("SLA параметры не найдены для: " + document);
}

var timeToSendFirstLineFromClarify = slaDueDates.records[0].timeToSendFirstLineFromClarify

if (timeToSendFirstLineFromClarify === null) {
  throw new Error("SLA параметр timeToSendFirstLineFromClarify не найден");
}

execution.setVariable("timeToSendFirstLineFromClarify", timeToSendFirstLineFromClarify);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:task name="" id="Activity_1gz2hue" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-first-line">
                <bpmn:incoming >Flow_1s7nb3s</bpmn:incoming>
                <bpmn:outgoing >Flow_06r7cqk</bpmn:outgoing>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Activity_1gz2hue" targetRef="Gateway_17xiodk" name="" id="Flow_06r7cqk" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0k5fat1" targetRef="Activity_0ol278f" name="" id="Flow_0mymgch" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="SLA 2 Пауза" id="Event_0k5fat1" ecos:documentation="{}" ecos:manualSignalName="sla-2-pause" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Пауза&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_14iwcfz</bpmn:incoming>
                <bpmn:outgoing >Flow_0mymgch</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_hiaNiQT" id="SignalEventDefinition_0mkpxxn"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:exclusiveGateway name="" id="Gateway_17xiodk" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1oz8mnz</bpmn:incoming>
                <bpmn:incoming >Flow_06r7cqk</bpmn:incoming>
                <bpmn:incoming >Flow_1p4uqo6</bpmn:incoming>
                <bpmn:outgoing >Flow_1yfpd3m</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Activity_0ol278f" targetRef="Gateway_17xiodk" name="" id="Flow_1oz8mnz" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_0rbw3qq" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1bevzo3</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_17xiodk" targetRef="Event_09rduee" name="" id="Flow_1yfpd3m" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_09rduee" targetRef="Event_0rbw3qq" name="" id="Flow_1bevzo3" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="SLA 2 Запуск" id="Event_09rduee" ecos:documentation="{}" ecos:manualSignalName="sla-2-start" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Запуск&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_1yfpd3m</bpmn:incoming>
                <bpmn:outgoing >Flow_1bevzo3</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_902TUTb" id="SignalEventDefinition_139yk2x"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_0ol278f" name="Изменен статус" id="Event_1cm4qnk" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Изменен статус&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing>Flow_1p4uqo6</bpmn:outgoing>
                <bpmn:signalEventDefinition signalRef="Signal_9PnDmWf" id="SignalEventDefinition_1t6q4my"/>
            </bpmn:boundaryEvent>
            <bpmn:sequenceFlow sourceRef="Event_1cm4qnk" targetRef="Gateway_17xiodk" name="" id="Flow_1p4uqo6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="Подтверждение выполнения" id="Activity_1rmxd13" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Подтверждение выполнения&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: Подтверждение выполнения" id="Event_18ba0e1" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{&quot;resolution&quot;:&quot;record.resolution&quot;}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: Подтверждение выполнения&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-approve&quot;}">
                <bpmn:outgoing >Flow_0ikpad8</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_MqI7aaH" id="SignalEventDefinition_07cyv57"/>
            </bpmn:startEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_1l7cv2x" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_0ltrf5e</bpmn:incoming>
                <bpmn:outgoing >Flow_1is3su4</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:subProcess triggeredByEvent="false" name="" id="Activity_1itptv5" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_098rmtj</bpmn:incoming>
                <bpmn:outgoing >Flow_050rov7</bpmn:outgoing>
                <bpmn:startEvent isInterrupting="true" name="" id="Event_0bcl15q" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:outgoing >Flow_0go5uvo</bpmn:outgoing>
                </bpmn:startEvent>
                <bpmn:sequenceFlow sourceRef="Event_0bcl15q" targetRef="Activity_1usfwq2" name="" id="Flow_0go5uvo" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sendTask name="Ув. Инициатора о выполнении заявки" id="Activity_1usfwq2" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о выполнении заявки&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-confirmation-request-competion" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                    <bpmn:incoming >Flow_0go5uvo</bpmn:incoming>
                    <bpmn:outgoing >Flow_0lan74l</bpmn:outgoing>
                </bpmn:sendTask>
                <bpmn:exclusiveGateway name="" id="Gateway_0z179ob" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_0lan74l</bpmn:incoming>
                    <bpmn:outgoing >Flow_0eug3m2</bpmn:outgoing>
                    <bpmn:outgoing >Flow_0ax87mc</bpmn:outgoing>
                </bpmn:exclusiveGateway>
                <bpmn:sequenceFlow sourceRef="Activity_1usfwq2" targetRef="Gateway_0z179ob" name="" id="Flow_0lan74l" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_0z179ob" targetRef="Event_1asx6g4" name="Внешний заказчик" id="Flow_0eug3m2" ecos:name_ml="{&quot;ru&quot;:&quot;Внешний заказчик&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;petitionChannel\&quot;) === \&quot;external\&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
                <bpmn:intermediateCatchEvent name="В заявку добавлен комментарий от представителя заказчика" id="Event_1asx6g4" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{&quot;initiator&quot;:&quot;record.initiator.id&quot;,&quot;clientSupport&quot;:&quot;record._roles.assigneesOf.client-support[]&quot;}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;В заявку добавлен комментарий от представителя заказчика&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="COMMENT_CREATE" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;or&quot;,&quot;val&quot;:[{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;commentRecord._creator.id&quot;,&quot;val&quot;:&quot;{{initiator}}&quot;},{&quot;t&quot;:&quot;contains&quot;,&quot;att&quot;:&quot;commentRecord._creator.authorities.list[]&quot;,&quot;val&quot;:&quot;{{clientSupport}}&quot;}]}">
                    <bpmn:incoming >Flow_0eug3m2</bpmn:incoming>
                    <bpmn:outgoing >Flow_09it6zo</bpmn:outgoing>
                    <bpmn:signalEventDefinition  signalRef="Signal_lNRsxpR" id="SignalEventDefinition_1ld8qh5"/>
                </bpmn:intermediateCatchEvent>
                <bpmn:sequenceFlow sourceRef="Gateway_0z179ob" targetRef="Activity_08e4sav" name="Внутренний заказчик" id="Flow_0ax87mc" ecos:name_ml="{&quot;ru&quot;:&quot;Внутренний заказчик&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load(\&quot;petitionChannel\&quot;) === \&quot;internal\&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
                <bpmn:userTask name="Подтверждение выполнения" id="Activity_08e4sav" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;returnToWork&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Вернуть в работу&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}},{&quot;id&quot;:&quot;approved&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Подтверждено&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Подтверждение выполнения&quot;}" ecos:formRef="uiserv/form@sd-request-approve" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;initiator-role&quot;]">
                    <bpmn:incoming >Flow_0ax87mc</bpmn:incoming>
                    <bpmn:outgoing >Flow_18t199h</bpmn:outgoing>
                </bpmn:userTask>
                <bpmn:exclusiveGateway name="" id="Gateway_1b7zu5l" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_09it6zo</bpmn:incoming>
                    <bpmn:incoming >Flow_0m81fo2</bpmn:incoming>
                    <bpmn:outgoing >Flow_15yd41f</bpmn:outgoing>
                </bpmn:exclusiveGateway>
                <bpmn:sequenceFlow sourceRef="Event_1asx6g4" targetRef="Gateway_1b7zu5l" name="" id="Flow_09it6zo" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:exclusiveGateway default="Flow_0psov0a" name="" id="Gateway_1eoi187" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_18t199h</bpmn:incoming>
                    <bpmn:outgoing >Flow_0psov0a</bpmn:outgoing>
                    <bpmn:outgoing >Flow_06u0i6h</bpmn:outgoing>
                    <bpmn:outgoing >Flow_1iqa6ih</bpmn:outgoing>
                </bpmn:exclusiveGateway>
                <bpmn:sequenceFlow sourceRef="Activity_08e4sav" targetRef="Gateway_1eoi187" name="" id="Flow_18t199h" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:endEvent name="" id="Event_1qgc9et" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_0psov0a</bpmn:incoming>
                </bpmn:endEvent>
                <bpmn:sequenceFlow sourceRef="Gateway_1eoi187" targetRef="Event_1qgc9et" name="" id="Flow_0psov0a" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_1eoi187" targetRef="Activity_1xew9jn" name="Подтверждено" id="Flow_06u0i6h" ecos:name_ml="{&quot;ru&quot;:&quot;Подтверждено&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_08e4sav:approved&quot;}" ecos:conditionType="OUTCOME"/>
                <bpmn:scriptTask scriptFormat="javascript" name="Резолюция = Готово, если резолюция была пустая" id="Activity_1xew9jn" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Резолюция = Готово, если резолюция была пустая&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var resolution = document.load(&quot;resolution&quot;);&#10;&#10;if(resolution === null) {&#10;  document.att(&quot;resolution&quot;, &quot;done&quot;);&#10;  document.save();&#10;}">
                    <bpmn:incoming >Flow_06u0i6h</bpmn:incoming>
                    <bpmn:outgoing >Flow_11amwya</bpmn:outgoing>
                    <bpmn:script>var resolution = document.load("resolution");

if(resolution === null) {
  document.att("resolution", "done");
  document.save();
}</bpmn:script>
                </bpmn:scriptTask>
                <bpmn:sequenceFlow sourceRef="Gateway_1b7zu5l" targetRef="Activity_04zzp38" name="" id="Flow_15yd41f" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:scriptTask scriptFormat="javascript" name="Определение предыдущей линии и назначение статуса" id="Activity_04zzp38" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Определение предыдущей линии и назначение статуса&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var line = execution.getVariable(&quot;currentLine&quot;);&#10;&#10;if(line === 1) {&#10;  document.att(&quot;_status&quot;, &quot;request-first-line&quot;);&#10;  document.save();&#10;} else if(line === 2) {&#10;  document.att(&quot;_status&quot;, &quot;request-second-line&quot;);&#10;  document.save();&#10;} else if(line === 3) {&#10;  document.att(&quot;_status&quot;, &quot;request-third-line&quot;);&#10;  document.save();&#10;} else {&#10;  throw new Error(&quot;Предыдущая линия не определена&quot;);&#10;}">
                    <bpmn:incoming >Flow_15yd41f</bpmn:incoming>
                    <bpmn:outgoing >Flow_1g6xpac</bpmn:outgoing>
                    <bpmn:script>var line = execution.getVariable("currentLine");

if(line === 1) {
  document.att("_status", "request-first-line");
  document.save();
} else if(line === 2) {
  document.att("_status", "request-second-line");
  document.save();
} else if(line === 3) {
  document.att("_status", "request-third-line");
  document.save();
} else {
  throw new Error("Предыдущая линия не определена");
}</bpmn:script>
                </bpmn:scriptTask>
                <bpmn:exclusiveGateway name="" id="Gateway_059gqzu" ecos:documentation="{}" ecos:name_ml="{}">
                    <bpmn:incoming >Flow_1g6xpac</bpmn:incoming>
                    <bpmn:incoming >Flow_0hxfghz</bpmn:incoming>
                    <bpmn:outgoing >Flow_0asp5w4</bpmn:outgoing>
                </bpmn:exclusiveGateway>
                <bpmn:sequenceFlow sourceRef="Activity_04zzp38" targetRef="Gateway_059gqzu" name="" id="Flow_1g6xpac" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:endEvent name="" id="Event_1pry1vk" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_0asp5w4</bpmn:incoming>
                </bpmn:endEvent>
                <bpmn:sequenceFlow sourceRef="Gateway_059gqzu" targetRef="Event_1pry1vk" name="" id="Flow_0asp5w4" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:task name="Статус: Закрыта" id="Activity_1wgvp9o" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{&quot;ru&quot;:&quot;Статус: Закрыта&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-closes">
                    <bpmn:incoming >Flow_11amwya</bpmn:incoming>
                    <bpmn:outgoing >Flow_0hxfghz</bpmn:outgoing>
                </bpmn:task>
                <bpmn:sequenceFlow sourceRef="Activity_1xew9jn" targetRef="Activity_1wgvp9o" name="" id="Flow_11amwya" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Activity_1wgvp9o" targetRef="Gateway_059gqzu" name="" id="Flow_0hxfghz" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_1eoi187" targetRef="Activity_0yctzt8" name="" id="Flow_1iqa6ih" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_08e4sav:returnToWork&quot;}" ecos:conditionType="OUTCOME"/>
                <bpmn:sequenceFlow sourceRef="Activity_0yctzt8" targetRef="Gateway_1b7zu5l" name="" id="Flow_0m81fo2" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:scriptTask scriptFormat="javascript" name="Проверка комментария" id="Activity_0yctzt8" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                    <bpmn:incoming >Flow_1iqa6ih</bpmn:incoming>
                    <bpmn:outgoing >Flow_0m81fo2</bpmn:outgoing>
                    <bpmn:script>if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
                </bpmn:scriptTask>
            </bpmn:subProcess>
            <bpmn:sequenceFlow sourceRef="Activity_1l7cv2x" targetRef="Event_1g3dzb3" name="" id="Flow_1is3su4" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_18ba0e1" targetRef="Activity_0xrfu8j" name="" id="Flow_0ikpad8" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_0xrfu8j" targetRef="Activity_12kyauz" name="" id="Flow_0sd8fqe" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_0xrfu8j" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;&#10;if (beforeStat.length === 0) {&#10;    throw new Error(&quot;Предыдущий статус не определен&quot;);&#10;}&#10;&#10;if (stats.indexOf(beforeStat) === -1) {&#10;    throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}&#10;&#10;var resolution = event.get(&quot;resolution&quot;).asText();&#10;if (!resolution) {&#10;    throw new Error(&quot;Невозможно перевести заявку в статус 'Подтверждение выполнения' без указания резолюции&quot;);&#10;}">
                <bpmn:incoming >Flow_0ikpad8</bpmn:incoming>
                <bpmn:outgoing >Flow_0sd8fqe</bpmn:outgoing>
                <bpmn:script>var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work'];
var beforeStat = event.get("before").asText();


if (beforeStat.length === 0) {
    throw new Error("Предыдущий статус не определен");
}

if (stats.indexOf(beforeStat) === -1) {
    throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_12kyauz" targetRef="Activity_1l7cv2x" name="" id="Flow_0ltrf5e" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Получение значений таймеров" id="Activity_12kyauz" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Получение значений таймеров&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var slaDueDates = Records.query({&#10;    sourceId: &quot;service-desk/sd-sla-params&quot;,&#10;    query: {&#10;        record: document.getRef()&#10;    }&#10;}, {&#10;    timeToAutoClose: &quot;timeToAutoClose&quot;,&#10;    notificationToInitiatorCloseReminder: &quot;notificationToInitiatorCloseReminder&quot;,&#10;});&#10;&#10;if (slaDueDates.records.length === 0) {&#10;    throw new Error(&quot;SLA параметры не найдены для: &quot; + document);&#10;}&#10;&#10;var timeToAutoClose = slaDueDates.records[0].timeToAutoClose&#10;var notificationToInitiatorCloseReminder = slaDueDates.records[0].notificationToInitiatorCloseReminder&#10;&#10;if (timeToAutoClose === null) {&#10;    throw new Error(&quot;SLA параметр timeToAutoClose не найден&quot;);&#10;}&#10;&#10;if (notificationToInitiatorCloseReminder === null) {&#10;    throw new Error(&quot;SLA параметр notificationToInitiatorCloseReminder не найден&quot;);&#10;}&#10;&#10;execution.setVariable(&quot;timeToAutoClose&quot;, timeToAutoClose);&#10;execution.setVariable(&quot;notificationToInitiatorCloseReminder&quot;, notificationToInitiatorCloseReminder);">
                <bpmn:incoming >Flow_0sd8fqe</bpmn:incoming>
                <bpmn:outgoing >Flow_0ltrf5e</bpmn:outgoing>
                <bpmn:script>var slaDueDates = Records.query({
    sourceId: "service-desk/sd-sla-params",
    query: {
        record: document.getRef()
    }
}, {
    timeToAutoClose: "timeToAutoClose",
    notificationToInitiatorCloseReminder: "notificationToInitiatorCloseReminder",
});

if (slaDueDates.records.length === 0) {
    throw new Error("SLA параметры не найдены для: " + document);
}

var timeToAutoClose = slaDueDates.records[0].timeToAutoClose
var notificationToInitiatorCloseReminder = slaDueDates.records[0].notificationToInitiatorCloseReminder

if (timeToAutoClose === null) {
    throw new Error("SLA параметр timeToAutoClose не найден");
}

if (notificationToInitiatorCloseReminder === null) {
    throw new Error("SLA параметр notificationToInitiatorCloseReminder не найден");
}

execution.setVariable("timeToAutoClose", timeToAutoClose);
execution.setVariable("notificationToInitiatorCloseReminder", notificationToInitiatorCloseReminder);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:boundaryEvent  cancelActivity="false" attachedToRef="Activity_1itptv5" name="" id="Event_0td1d3a" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${notificationToInitiatorCloseReminder}&quot;}">
                <bpmn:outgoing>Flow_1szbzug</bpmn:outgoing>
                <bpmn:timerEventDefinition id="TimerEventDefinition_1lpxwit">
                    <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${notificationToInitiatorCloseReminder}</bpmn:timeDate>
                </bpmn:timerEventDefinition>
            </bpmn:boundaryEvent>
            <bpmn:sequenceFlow sourceRef="Event_0td1d3a" targetRef="Activity_1smstlk" name="Напоминание инициатору о необходимости подтверждения" id="Flow_1szbzug" ecos:name_ml="{&quot;ru&quot;:&quot;Напоминание инициатору о необходимости подтверждения&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sendTask name="Напоминание инициатору" id="Activity_1smstlk" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Напоминание инициатору&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-waiting-for-confirmation" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_1szbzug</bpmn:incoming>
            </bpmn:sendTask>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_1itptv5" name="" id="Event_0mgqtus" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${timeToAutoClose}&quot;}">
                <bpmn:outgoing>Flow_0f6d2sc</bpmn:outgoing>
                <bpmn:timerEventDefinition id="TimerEventDefinition_19pww6z">
                    <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${timeToAutoClose}</bpmn:timeDate>
                </bpmn:timerEventDefinition>
            </bpmn:boundaryEvent>
            <bpmn:sequenceFlow sourceRef="Event_0mgqtus" targetRef="Activity_1307c6n" name="Предельный срок ответа о подтверждении" id="Flow_0f6d2sc" ecos:name_ml="{&quot;ru&quot;:&quot;Предельный срок ответа о подтверждении&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:task name="" id="Activity_1oypy39" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-closes">
                <bpmn:incoming >Flow_0z6rvkt</bpmn:incoming>
                <bpmn:outgoing >Flow_0vgc4pn</bpmn:outgoing>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Activity_1307c6n" targetRef="Activity_1oypy39" name="" id="Flow_0z6rvkt" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_1oypy39" targetRef="Gateway_1is97aw" name="" id="Flow_0vgc4pn" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Резолюция = Готово, если резолюция была пустая" id="Activity_1307c6n" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Резолюция = Готово, если резолюция была пустая&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var resolution = document.load(&quot;resolution&quot;);&#10;&#10;if(resolution === null) {&#10;  document.att(&quot;resolution&quot;, &quot;done&quot;);&#10;  document.save();&#10;}">
                <bpmn:incoming >Flow_0f6d2sc</bpmn:incoming>
                <bpmn:outgoing >Flow_0z6rvkt</bpmn:outgoing>
                <bpmn:script>var resolution = document.load("resolution");

if(resolution === null) {
  document.att("resolution", "done");
  document.save();
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:exclusiveGateway name="" id="Gateway_1is97aw" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_050rov7</bpmn:incoming>
                <bpmn:incoming >Flow_0vgc4pn</bpmn:incoming>
                <bpmn:incoming >Flow_1gj03u7</bpmn:incoming>
                <bpmn:outgoing >Flow_0vq32ym</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Activity_1itptv5" targetRef="Gateway_1is97aw" name="" id="Flow_050rov7" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_06aswh9" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_18uos1n</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_1is97aw" targetRef="Event_0epqqmo" name="" id="Flow_0vq32ym" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0epqqmo" targetRef="Event_06aswh9" name="" id="Flow_18uos1n" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="SLA 2 Запуск" id="Event_0epqqmo" ecos:documentation="{}" ecos:manualSignalName="sla-2-start" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Запуск&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_0vq32ym</bpmn:incoming>
                <bpmn:outgoing >Flow_18uos1n</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_902TUTb" id="SignalEventDefinition_0ttpqwp"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:sequenceFlow sourceRef="Event_1g3dzb3" targetRef="Activity_1itptv5" name="" id="Flow_098rmtj" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="SLA 2 Пауза" id="Event_1g3dzb3" ecos:documentation="{}" ecos:manualSignalName="sla-2-pause" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Пауза&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_1is3su4</bpmn:incoming>
                <bpmn:outgoing >Flow_098rmtj</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_hiaNiQT" id="SignalEventDefinition_09gujrm"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_1itptv5" name="Изменен статус" id="Event_0lf21mf" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Изменен статус&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing>Flow_1gj03u7</bpmn:outgoing>
                <bpmn:signalEventDefinition signalRef="Signal_9PnDmWf" id="SignalEventDefinition_0755rgi"/>
            </bpmn:boundaryEvent>
            <bpmn:sequenceFlow sourceRef="Event_0lf21mf" targetRef="Gateway_1is97aw" name="" id="Flow_1gj03u7" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot; &quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="Эвент-статус: На удержании" id="Activity_1etfdiu" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: На удержании&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: На удержании" id="Event_0y2nffn" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: На удержании&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-hold&quot;}">
                <bpmn:outgoing >Flow_1327ljn</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_tGHVFeq" id="SignalEventDefinition_1l8p08k"/>
            </bpmn:startEvent>
            <bpmn:sendTask name="Ув. Инициатора об удержании завки" id="Activity_1lxnmvq" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора об удержании завки&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-hold" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_0em837z</bpmn:incoming>
                <bpmn:outgoing >Flow_0h0xtcb</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:endEvent name="" id="Event_1aqbuhm" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0h0xtcb</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_1lxnmvq" targetRef="Event_1aqbuhm" name="" id="Flow_0h0xtcb" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_07v70qd" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_1pl0hmt</bpmn:incoming>
                <bpmn:outgoing >Flow_0v0updz</bpmn:outgoing>
                <bpmn:script>tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_07v70qd" targetRef="Event_0j4zq53" name="" id="Flow_0v0updz" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Заполнение времени остановки" id="Activity_0fz9iet" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Заполнение времени остановки&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var date = new Date();&#10;&#10;if(document.load(&quot;stoppingTimestamp&quot;) === null) {&#10;  document.att('stoppingTimestamp', date.toISOString());&#10;  document.save();&#10;}">
                <bpmn:incoming >Flow_1728t50</bpmn:incoming>
                <bpmn:outgoing >Flow_1pl0hmt</bpmn:outgoing>
                <bpmn:script>var date = new Date();

if(document.load("stoppingTimestamp") === null) {
  document.att('stoppingTimestamp', date.toISOString());
  document.save();
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0fz9iet" targetRef="Activity_07v70qd" name="" id="Flow_1pl0hmt" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0y2nffn" targetRef="Activity_13i85fg" name="" id="Flow_1327ljn" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0j4zq53" targetRef="Activity_1lxnmvq" name="" id="Flow_0em837z" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="SLA 2 Пауза" id="Event_0j4zq53" ecos:documentation="{}" ecos:manualSignalName="sla-2-pause" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Пауза&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_0v0updz</bpmn:incoming>
                <bpmn:outgoing >Flow_0em837z</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_hiaNiQT" id="SignalEventDefinition_1vuyg58"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_13i85fg" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;&#10;if (beforeStat.length === 0) {&#10;    throw new Error(&quot;Предыдущий статус не определен&quot;);&#10;}&#10;&#10;if (stats.indexOf(beforeStat) === -1) {&#10;    throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}&#10;&#10;if (!comment) {&#10;    throw new Error(&quot;Поле Комментарий не может быть пустым.&quot;);&#10;}">
                <bpmn:incoming >Flow_1327ljn</bpmn:incoming>
                <bpmn:outgoing >Flow_1728t50</bpmn:outgoing>
                <bpmn:script>var stats = ['request-first-line-work', 'request-second-line-work', 'request-third-line-work'];
var beforeStat = event.get("before").asText();


if (beforeStat.length === 0) {
    throw new Error("Предыдущий статус не определен");
}

if (stats.indexOf(beforeStat) === -1) {
    throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}

if (!comment) {
    throw new Error("Поле Комментарий не может быть пустым.");
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_13i85fg" targetRef="Activity_0fz9iet" name="" id="Flow_1728t50" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="Информирование Исполнителя о добавлении комментария" id="Activity_1aeztn8" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Информирование Исполнителя о добавлении комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент: Добавлен комментарий от Инициатора" id="Event_0e5xruf" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{&quot;initiator&quot;:&quot;record.initiator.id&quot;}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент: Добавлен комментарий от Инициатора&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="COMMENT_CREATE" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;commentRecord._creator.id&quot;,&quot;val&quot;:&quot;{{initiator}}&quot;}">
                <bpmn:outgoing >Flow_0eq912r</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_lNRsxpR" id="SignalEventDefinition_0z5mq16"/>
            </bpmn:startEvent>
            <bpmn:endEvent name="" id="Event_18bj5p8" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0fewzrw</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Event_0e5xruf" targetRef="Activity_1iuhmi6" name="" id="Flow_0eq912r" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sendTask name="Ув. Исполнителя о добавлении комментария" id="Activity_1iuhmi6" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Исполнителя о добавлении комментария&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-input-comment" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;impl-first-line-role&quot;,&quot;impl-second-line-role&quot;,&quot;impl-third-line-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_0eq912r</bpmn:incoming>
                <bpmn:outgoing >Flow_0fewzrw</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:sequenceFlow sourceRef="Activity_1iuhmi6" targetRef="Event_18bj5p8" name="" id="Flow_0fewzrw" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="Информирование Инициатора о добавлении комментария" id="Activity_1ymv03a" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Информирование Инициатора о добавлении комментария&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:sequenceFlow sourceRef="Event_0ch7h2r" targetRef="Activity_0nefudh" name="" id="Flow_0eyh0kk" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sendTask name="Ув. Инициатора о добавлении комментария" id="Activity_0nefudh" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о добавлении комментария&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-input-comment" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_0eyh0kk</bpmn:incoming>
                <bpmn:outgoing >Flow_0723usk</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:endEvent name="" id="Event_04e2niv" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0723usk</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_0nefudh" targetRef="Event_04e2niv" name="" id="Flow_0723usk" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:startEvent isInterrupting="false" name="Эвент: Добавлен комментарий от Исполнителя" id="Event_0ch7h2r" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент: Добавлен комментарий от Исполнителя&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="COMMENT_CREATE" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;or&quot;,&quot;val&quot;:[{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;record._roles.isCurrentUserMemberOf.impl-first-line-role?bool&quot;,&quot;val&quot;:true},{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;record._roles.isCurrentUserMemberOf.impl-second-line-role?bool&quot;,&quot;val&quot;:true},{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;record._roles.isCurrentUserMemberOf.impl-third-line-role?bool&quot;,&quot;val&quot;:true}]}">
                <bpmn:outgoing >Flow_0eyh0kk</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_PAWLVNy" id="SignalEventDefinition_01jo4cb"/>
            </bpmn:startEvent>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_02v2j3o" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент: смена резолюции" id="Event_1jpwstt" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент: смена резолюции&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;diff._has.resolution?bool&quot;,&quot;val&quot;:true}">
                <bpmn:outgoing >Flow_0g6uuq6</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_LmWuJoo" id="SignalEventDefinition_1eqw4n3"/>
            </bpmn:startEvent>
            <bpmn:sequenceFlow sourceRef="Event_1jpwstt" targetRef="Activity_1qvvo5u" name="" id="Flow_0g6uuq6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка резолюции" id="Activity_1qvvo5u" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка резолюции&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var resolution = document.load('resolution');&#10;var link = document.load('webLinks');&#10;&#10;if(resolution === 'knownError') {&#10;  if(link === null) {&#10;    throw new Error(&quot;При резолюции \&quot;Известная ошибка\&quot; должна быть указана ссылка&quot;);&#10;  }&#10;}">
                <bpmn:incoming >Flow_0g6uuq6</bpmn:incoming>
                <bpmn:outgoing >Flow_0rl85cv</bpmn:outgoing>
                <bpmn:script>var resolution = document.load('resolution');
var link = document.load('webLinks');

if(resolution === 'knownError') {
  if(link === null) {
    throw new Error("При резолюции \"Известная ошибка\" должна быть указана ссылка");
  }
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:endEvent name="" id="Event_0s74u88" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0rl85cv</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_1qvvo5u" targetRef="Event_0s74u88" name="" id="Flow_0rl85cv" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_05y21r6" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент: Добавлен доп. участник" id="Event_0epqf8h" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{&quot;additionalParticipantChanged&quot;:&quot;diff._has.additionalParticipant?bool&quot;}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент: Добавлен доп. участник&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;additionalParticipantChanged&quot;,&quot;val&quot;:true}">
                <bpmn:outgoing >Flow_097vf6p</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_NKVATzs" id="SignalEventDefinition_0pvj55f"/>
            </bpmn:startEvent>
            <bpmn:sendTask name="Ув. Привлечённому сотруднику" id="Activity_1kem475" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Привлечённому сотруднику&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-new-participant" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[&quot;${additionalParticipant}&quot;]">
                <bpmn:incoming >Flow_0fno9rr</bpmn:incoming>
                <bpmn:outgoing >Flow_0t7qer6</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:endEvent name="" id="Event_06zerk3" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_0t7qer6</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Activity_1kem475" targetRef="Event_06zerk3" name="" id="Flow_0t7qer6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Event_0epqf8h" targetRef="Activity_1mnyddm" name="" id="Flow_097vf6p" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Определение добавленного участника" id="Activity_1mnyddm" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Определение добавленного участника&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var additionalParticipant = document.load('additionalParticipant[].additionalParticipant?str');&#10;&#10;execution.setVariable(&quot;additionalParticipant&quot;, additionalParticipant[additionalParticipant.length-1]);&#10;">
                <bpmn:incoming >Flow_097vf6p</bpmn:incoming>
                <bpmn:outgoing >Flow_0fno9rr</bpmn:outgoing>
                <bpmn:script>var additionalParticipant = document.load('additionalParticipant[].additionalParticipant?str');

execution.setVariable("additionalParticipant", additionalParticipant[additionalParticipant.length-1]);
</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_1mnyddm" targetRef="Activity_1kem475" name="" id="Flow_0fno9rr" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_1s5p337" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="SLA 2 Пауза" id="Event_09l1sbs" ecos:documentation="{}" ecos:manualSignalName="sla-2-pause" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Пауза&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing >Flow_1cfx7jp</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_hiaNiQT" id="SignalEventDefinition_0sjui72"/>
            </bpmn:startEvent>
            <bpmn:sequenceFlow sourceRef="Event_09l1sbs" targetRef="Activity_1h3yhza" name="" id="Flow_1cfx7jp" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:endEvent name="" id="Event_1fu2ni7" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_12ky37s</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Обработка паузы" id="Activity_1h3yhza" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Обработка паузы&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var msg = &quot;Sla 2 pause processing&quot;;&#10;&#10;var lastResumeTime = document.load(&quot;sla_2_last_resume_time&quot;);&#10;var lastResumeDate = new Date(lastResumeTime);&#10;&#10;var now = new Date();&#10;msg += &quot;\nnow: &quot; + now;&#10;msg += &quot;\nlastResumeTime: &quot; + lastResumeTime;&#10;msg += &quot;\nlastResumeDate: &quot; + lastResumeDate;&#10;&#10;var diff = now.getTime() - lastResumeDate.getTime();&#10;msg += &quot;\ndiff: &quot; + diff;&#10;&#10;var currentSpentTime = document.load(&quot;sla_2_spent_time?num&quot;);&#10;msg += &quot;\ncurrentSpentTime original: &quot; + currentSpentTime;&#10;&#10;currentSpentTime = currentSpentTime + diff;&#10;&#10;msg += &quot;\ncurrentSpentTime new: &quot; + currentSpentTime;&#10;log.debug(msg);&#10;&#10;document.att(&quot;sla_2_spent_time&quot;, currentSpentTime);&#10;document.att(&quot;sla_2_state&quot;, &quot;PAUSE&quot;);&#10;document.att(&quot;sla_2_pause_time&quot;, now.toISOString());&#10;&#10;document.save();&#10;">
                <bpmn:incoming >Flow_1cfx7jp</bpmn:incoming>
                <bpmn:outgoing >Flow_12ky37s</bpmn:outgoing>
                <bpmn:script>var msg = "Sla 2 pause processing";

var lastResumeTime = document.load("sla_2_last_resume_time");
var lastResumeDate = new Date(lastResumeTime);

var now = new Date();
msg += "\nnow: " + now;
msg += "\nlastResumeTime: " + lastResumeTime;
msg += "\nlastResumeDate: " + lastResumeDate;

var diff = now.getTime() - lastResumeDate.getTime();
msg += "\ndiff: " + diff;

var currentSpentTime = document.load("sla_2_spent_time?num");
msg += "\ncurrentSpentTime original: " + currentSpentTime;

currentSpentTime = currentSpentTime + diff;

msg += "\ncurrentSpentTime new: " + currentSpentTime;
log.debug(msg);

document.att("sla_2_spent_time", currentSpentTime);
document.att("sla_2_state", "PAUSE");
document.att("sla_2_pause_time", now.toISOString());

document.save();
</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_1h3yhza" targetRef="Event_1fu2ni7" name="" id="Flow_12ky37s" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_0h47ybh" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:scriptTask scriptFormat="javascript" name="Обработка завершения" id="Activity_0upahzr" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Обработка завершения&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="log.debug(&quot;Sla 2 finish processing&quot;);&#10;&#10;&#10;var now = new Date();&#10;&#10;document.att(&quot;sla_2_state&quot;, &quot;COMPLETE&quot;);&#10;document.att(&quot;closedTimestamp&quot;, now.toISOString());&#10;&#10;document.save();">
                <bpmn:incoming >Flow_0exy7xw</bpmn:incoming>
                <bpmn:outgoing >Flow_1i16bnc</bpmn:outgoing>
                <bpmn:script>log.debug("Sla 2 finish processing");


var now = new Date();

document.att("sla_2_state", "COMPLETE");
document.att("closedTimestamp", now.toISOString());

document.save();</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:endEvent name="" id="Event_0kt6zkf" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1i16bnc</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Event_0qtmzwb" targetRef="Activity_0upahzr" name="" id="Flow_0exy7xw" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_0upahzr" targetRef="Event_0kt6zkf" name="" id="Flow_1i16bnc" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:startEvent isInterrupting="false" name="" id="Event_0qtmzwb" ecos:documentation="{}" ecos:manualSignalName="sla-2-stop" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing >Flow_0exy7xw</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_MUimD9w" id="SignalEventDefinition_0xkyvht"/>
            </bpmn:startEvent>
        </bpmn:subProcess>
        <bpmn:subProcess triggeredByEvent="true" name="" id="Activity_09qiygb" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:startEvent isInterrupting="false" name="Эвент-статус: Передано 1-й линии ТП" id="Event_0ln4xe3" ecos:documentation="{}" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Эвент-статус: Передано 1-й линии ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="false" ecos:eventType="RECORD_STATUS_CHANGED" ecos:eventFilterByPredicate="{&quot;t&quot;:&quot;eq&quot;,&quot;att&quot;:&quot;after&quot;,&quot;val&quot;:&quot;request-first-line&quot;}">
                <bpmn:outgoing >Flow_1xtmc4q</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_1ZwQWP1" id="SignalEventDefinition_0cr8ylq"/>
            </bpmn:startEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_0493q6t" targetRef="Activity_0poy3ky" name="Всегда" id="Flow_0ytpj8p" ecos:name_ml="{&quot;ru&quot;:&quot;Всегда&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load('firstReactionTimestamp') !== null;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sendTask name="Ув. 1-й линии" id="Activity_0poy3ky" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. 1-й линии&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-assign-task" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;impl-first-line-role&quot;]" ecos:documentation="{}" ecos:notificationTitle="1" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationBody="&lt;p&gt;1&lt;/p&gt;" ecos:notificationToExpression="[]">
                <bpmn:incoming >Flow_0ytpj8p</bpmn:incoming>
                <bpmn:outgoing >Flow_07sucp7</bpmn:outgoing>
            </bpmn:sendTask>
            <bpmn:sequenceFlow sourceRef="Gateway_0493q6t" targetRef="Activity_1il3s4y" name="Время первой реакции == null" id="Flow_0a3vijd" ecos:name_ml="{&quot;ru&quot;:&quot;Время первой реакции == null&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;document.load('firstReactionTimestamp') === null;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="SCRIPT"/>
            <bpmn:sequenceFlow sourceRef="Activity_0poy3ky" targetRef="Activity_0mp4zci" name="" id="Flow_07sucp7" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:userTask name="Задача взятия в работу" id="Activity_0mp4zci" ecos:documentation="{}" ecos:manualRecipients="[]" ecos:outcomes="[{&quot;id&quot;:&quot;takeToWork&quot;,&quot;name&quot;:{&quot;ru&quot;:&quot;Взять в работу&quot;,&quot;en&quot;:&quot;Take to work&quot;},&quot;config&quot;:{&quot;theme&quot;:&quot;PRIMARY&quot;}}]" ecos:laEnabled="false" ecos:name_ml="{&quot;ru&quot;:&quot;Задача взятия в работу&quot;,&quot;en&quot;:&quot;Task of taking to work&quot;}" ecos:formRef="uiserv/form@sd-request-take-to-work" ecos:laReportEnabled="false" ecos:manualRecipientsMode="false" ecos:priority="MEDIUM" ecos:assignees="[&quot;impl-first-line-role&quot;]">
                <bpmn:incoming >Flow_07sucp7</bpmn:incoming>
                <bpmn:outgoing >Flow_0rwllui</bpmn:outgoing>
            </bpmn:userTask>
            <bpmn:exclusiveGateway default="Flow_1c03ua0" name="?" id="Gateway_15rio7a" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;?&quot;}">
                <bpmn:incoming >Flow_0rwllui</bpmn:incoming>
                <bpmn:outgoing >Flow_1c03ua0</bpmn:outgoing>
                <bpmn:outgoing >Flow_0s2euri</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Activity_0mp4zci" targetRef="Gateway_15rio7a" name="" id="Flow_0rwllui" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Gateway_15rio7a" targetRef="Gateway_1nq85pw" name="Автоматический переход" id="Flow_1c03ua0" ecos:name_ml="{&quot;ru&quot;:&quot;Автоматический переход&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:exclusiveGateway name="" id="Gateway_1nq85pw" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1c03ua0</bpmn:incoming>
                <bpmn:incoming >Flow_0lisv9u</bpmn:incoming>
                <bpmn:outgoing >Flow_0cfyc1u</bpmn:outgoing>
            </bpmn:exclusiveGateway>
            <bpmn:endEvent name="" id="Event_0qw81zj" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_1bcf6z9</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Gateway_1nq85pw" targetRef="Event_1z08egl" name="" id="Flow_0cfyc1u" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:task name="" id="Activity_0n7ogtj" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:taskType="setStatus" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:status="request-first-line-work">
                <bpmn:incoming >Flow_0s2euri</bpmn:incoming>
                <bpmn:outgoing >Flow_0lisv9u</bpmn:outgoing>
            </bpmn:task>
            <bpmn:sequenceFlow sourceRef="Gateway_15rio7a" targetRef="Activity_0n7ogtj" name="Взяли в работу" id="Flow_0s2euri" ecos:name_ml="{&quot;ru&quot;:&quot;Взяли в работу&quot;}" ecos:conditionConfig="{&quot;fn&quot;:&quot;// some script;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;Activity_0mp4zci:takeToWork&quot;}" ecos:conditionType="OUTCOME"/>
            <bpmn:sequenceFlow sourceRef="Activity_0n7ogtj" targetRef="Gateway_1nq85pw" name="" id="Flow_0lisv9u" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:inclusiveGateway name="" id="Gateway_0493q6t" ecos:documentation="{}" ecos:name_ml="{}">
                <bpmn:incoming >Flow_1cq9ayl</bpmn:incoming>
                <bpmn:outgoing >Flow_0ytpj8p</bpmn:outgoing>
                <bpmn:outgoing >Flow_0a3vijd</bpmn:outgoing>
            </bpmn:inclusiveGateway>
            <bpmn:sequenceFlow sourceRef="Event_0ln4xe3" targetRef="Activity_0qrb74g" name="" id="Flow_1xtmc4q" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Проверка условий перехода" id="Activity_0qrb74g" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Проверка условий перехода&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var stats = ['request-second-line-work', 'request-third-line-work', 'request-hold', 'request-approve', 'request-clarification', 'request-hold', 'request-closes'];&#10;var beforeStat = event.get(&quot;before&quot;).asText();&#10;&#10;if (beforeStat.length &gt; 0 &amp;&amp; stats.indexOf(beforeStat) === -1) {&#10;    throw new Error(&quot;Условия перехода не соблюдены. Предыдущий статус: &quot;+ beforeStat);&#10;}">
                <bpmn:incoming >Flow_1xtmc4q</bpmn:incoming>
                <bpmn:outgoing >Flow_0kon885</bpmn:outgoing>
                <bpmn:script>var stats = ['request-second-line-work', 'request-third-line-work', 'request-hold', 'request-approve', 'request-clarification', 'request-hold', 'request-closes'];
var beforeStat = event.get("before").asText();

if (beforeStat.length &gt; 0 &amp;&amp; stats.indexOf(beforeStat) === -1) {
    throw new Error("Условия перехода не соблюдены. Предыдущий статус: "+ beforeStat);
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_0qrb74g" targetRef="Activity_19yit0a" name="" id="Flow_0kon885" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_05m3npy" targetRef="Event_12qctcf" name="" id="Flow_146p715" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение активной задачи" id="Activity_05m3npy" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение активной задачи&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script=" tasks.completeActiveTasks(execution);">
                <bpmn:incoming >Flow_179dr8l</bpmn:incoming>
                <bpmn:outgoing >Flow_146p715</bpmn:outgoing>
                <bpmn:script> tasks.completeActiveTasks(execution);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:subProcess triggeredByEvent="false" name="" id="Activity_18mb1z2" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_04g3v4i</bpmn:incoming>
                <bpmn:startEvent isInterrupting="true" name="" id="Event_1gywiye" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:outgoing >Flow_04p5608</bpmn:outgoing>
                </bpmn:startEvent>
                <bpmn:parallelGateway name="" id="Gateway_1vt9n0z" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_04p5608</bpmn:incoming>
                    <bpmn:outgoing >Flow_0wtexcu</bpmn:outgoing>
                    <bpmn:outgoing >Flow_18r955x</bpmn:outgoing>
                </bpmn:parallelGateway>
                <bpmn:sequenceFlow sourceRef="Event_1gywiye" targetRef="Gateway_1vt9n0z" name="" id="Flow_04p5608" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:intermediateCatchEvent name="SLA 1: Таймер уведомления 1-й линии" id="Event_0zz32r2" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 1: Таймер уведомления 1-й линии&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${notificationToExecutorTimeReaction}&quot;}">
                    <bpmn:incoming >Flow_0wtexcu</bpmn:incoming>
                    <bpmn:outgoing >Flow_1b5b0ld</bpmn:outgoing>
                    <bpmn:timerEventDefinition id="TimerEventDefinition_0qt2rjg">
                        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${notificationToExecutorTimeReaction}</bpmn:timeDate>
                    </bpmn:timerEventDefinition>
                </bpmn:intermediateCatchEvent>
                <bpmn:sendTask name="Ув. 1-й линии о скорой просрочке SLA 1" id="Activity_0avxd89" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. 1-й линии о скорой просрочке SLA 1&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-sla-1-overdue" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;impl-first-line-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                    <bpmn:incoming >Flow_1b5b0ld</bpmn:incoming>
                    <bpmn:outgoing >Flow_1r7j9n0</bpmn:outgoing>
                </bpmn:sendTask>
                <bpmn:intermediateCatchEvent name="SLA 1: Таймер уведомления руководителю ТП" id="Event_1q9mnfb" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 1: Таймер уведомления руководителю ТП&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:timeConfig="{&quot;type&quot;:&quot;DATE&quot;,&quot;value&quot;:&quot;${notificationToSupervisorTimeReaction}&quot;}">
                    <bpmn:incoming >Flow_18r955x</bpmn:incoming>
                    <bpmn:outgoing >Flow_1pav6ij</bpmn:outgoing>
                    <bpmn:timerEventDefinition id="TimerEventDefinition_1hy4ndp">
                        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${notificationToSupervisorTimeReaction}</bpmn:timeDate>
                    </bpmn:timerEventDefinition>
                </bpmn:intermediateCatchEvent>
                <bpmn:sendTask name="Ув. Руководителю ТП о скорой просрочке SLA 1" id="Activity_06uwq0q" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Руководителю ТП о скорой просрочке SLA 1&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-sla-1-overdue" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;lead-tech-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
                    <bpmn:incoming >Flow_1pav6ij</bpmn:incoming>
                    <bpmn:outgoing >Flow_1uux4oh</bpmn:outgoing>
                </bpmn:sendTask>
                <bpmn:parallelGateway name="" id="Gateway_09kdcg2" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_1r7j9n0</bpmn:incoming>
                    <bpmn:incoming >Flow_1uux4oh</bpmn:incoming>
                    <bpmn:outgoing >Flow_1qumj7f</bpmn:outgoing>
                </bpmn:parallelGateway>
                <bpmn:endEvent name="" id="Event_0nthg3d" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                    <bpmn:incoming >Flow_1qumj7f</bpmn:incoming>
                </bpmn:endEvent>
                <bpmn:sequenceFlow sourceRef="Gateway_1vt9n0z" targetRef="Event_0zz32r2" name="" id="Flow_0wtexcu" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_1vt9n0z" targetRef="Event_1q9mnfb" name="" id="Flow_18r955x" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Event_0zz32r2" targetRef="Activity_0avxd89" name="" id="Flow_1b5b0ld" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Activity_0avxd89" targetRef="Gateway_09kdcg2" name="" id="Flow_1r7j9n0" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Event_1q9mnfb" targetRef="Activity_06uwq0q" name="" id="Flow_1pav6ij" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Activity_06uwq0q" targetRef="Gateway_09kdcg2" name="" id="Flow_1uux4oh" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
                <bpmn:sequenceFlow sourceRef="Gateway_09kdcg2" targetRef="Event_0nthg3d" name="" id="Flow_1qumj7f" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            </bpmn:subProcess>
            <bpmn:sequenceFlow sourceRef="Event_1z08egl" targetRef="Activity_1rb08kr" name="" id="Flow_1rqiwy6" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="Отменить уведомления по SLA 1" id="Event_1z08egl" ecos:documentation="{}" ecos:manualSignalName="cancel-sla-1-notification" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Отменить уведомления по SLA 1&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_0cfyc1u</bpmn:incoming>
                <bpmn:outgoing >Flow_1rqiwy6</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_M1rhyTO" id="SignalEventDefinition_0d99whr"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:boundaryEvent  cancelActivity="true" attachedToRef="Activity_18mb1z2" name="Отмена уведомлений" id="Event_1q0kz9e" ecos:documentation="{}" ecos:manualSignalName="cancel-sla-1-notification" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Отмена уведомлений&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:outgoing>Flow_18ce1t4</bpmn:outgoing>
                <bpmn:signalEventDefinition signalRef="Signal_M1rhyTO" id="SignalEventDefinition_1hzrb4o"/>
            </bpmn:boundaryEvent>
            <bpmn:endEvent name="" id="Event_025qrrg" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
                <bpmn:incoming >Flow_18ce1t4</bpmn:incoming>
            </bpmn:endEvent>
            <bpmn:sequenceFlow sourceRef="Event_1q0kz9e" targetRef="Event_025qrrg" name="" id="Flow_18ce1t4" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:sequenceFlow sourceRef="Activity_1rb08kr" targetRef="Event_0qw81zj" name="" id="Flow_1bcf6z9" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Завершение SLA 1" id="Activity_1rb08kr" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Завершение SLA 1&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var date = new Date();&#10;&#10;if (document.load(&quot;sla_1_state&quot;) !== &quot;COMPLETE&quot;) {&#10;    document.att(&quot;firstReactionTimestamp&quot;, date.toISOString());&#10;    document.att(&quot;sla_1_state&quot;, &quot;COMPLETE&quot;);&#10;&#10;    document.save();&#10;}">
                <bpmn:incoming >Flow_1rqiwy6</bpmn:incoming>
                <bpmn:outgoing >Flow_1bcf6z9</bpmn:outgoing>
                <bpmn:script>var date = new Date();

if (document.load("sla_1_state") !== "COMPLETE") {
    document.att("firstReactionTimestamp", date.toISOString());
    document.att("sla_1_state", "COMPLETE");

    document.save();
}</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Event_12qctcf" targetRef="Gateway_0493q6t" name="" id="Flow_1cq9ayl" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:intermediateThrowEvent name="SLA 2 Запуск" id="Event_12qctcf" ecos:documentation="{}" ecos:manualSignalName="sla-2-start" ecos:eventFilterByRecordType="DOCUMENT" ecos:eventModel="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;SLA 2 Запуск&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:eventManualMode="true" ecos:eventFilterByPredicate="{}">
                <bpmn:incoming >Flow_146p715</bpmn:incoming>
                <bpmn:outgoing >Flow_1cq9ayl</bpmn:outgoing>
                <bpmn:signalEventDefinition  signalRef="Signal_902TUTb" id="SignalEventDefinition_110byrz"/>
            </bpmn:intermediateThrowEvent>
            <bpmn:scriptTask scriptFormat="javascript" name="Подготовка SLA 1" id="Activity_1il3s4y" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Подготовка SLA 1&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var msg = &quot;Sla 1 prepare&quot;;&#10;&#10;var slaDueDates = Records.query({&#10;    sourceId: &quot;service-desk/sd-sla-params&quot;,&#10;    query: {&#10;        record: document.getRef()&#10;    }&#10;}, {&#10;    timeFirstReaction: &quot;timeFirstReaction&quot;,&#10;    notificationToExecutorTimeReaction: &quot;notificationToExecutorTimeReaction&quot;,&#10;    notificationToSupervisorTimeReaction: &quot;notificationToSupervisorTimeReaction&quot;,&#10;});&#10;&#10;if (slaDueDates.records.length === 0) {&#10;    throw new Error(&quot;SLA параметры не найдены для: &quot; + document);&#10;}&#10;&#10;var params = slaDueDates.records[0];&#10;&#10;msg += &quot;\nparams: &quot; + params;&#10;log.debug(msg);&#10;&#10;execution.setVariable(&quot;notificationToExecutorTimeReaction&quot;, params.notificationToExecutorTimeReaction);&#10;execution.setVariable(&quot;notificationToSupervisorTimeReaction&quot;, params.notificationToSupervisorTimeReaction);&#10;&#10;&#10;document.att(&quot;sla_1_state&quot;, &quot;RUNNING&quot;);&#10;document.att(&quot;sla_1_due_date&quot;, params.timeFirstReaction);&#10;&#10;document.save();">
                <bpmn:incoming >Flow_0a3vijd</bpmn:incoming>
                <bpmn:outgoing >Flow_04g3v4i</bpmn:outgoing>
                <bpmn:script>var msg = "Sla 1 prepare";

var slaDueDates = Records.query({
    sourceId: "service-desk/sd-sla-params",
    query: {
        record: document.getRef()
    }
}, {
    timeFirstReaction: "timeFirstReaction",
    notificationToExecutorTimeReaction: "notificationToExecutorTimeReaction",
    notificationToSupervisorTimeReaction: "notificationToSupervisorTimeReaction",
});

if (slaDueDates.records.length === 0) {
    throw new Error("SLA параметры не найдены для: " + document);
}

var params = slaDueDates.records[0];

msg += "\nparams: " + params;
log.debug(msg);

execution.setVariable("notificationToExecutorTimeReaction", params.notificationToExecutorTimeReaction);
execution.setVariable("notificationToSupervisorTimeReaction", params.notificationToSupervisorTimeReaction);


document.att("sla_1_state", "RUNNING");
document.att("sla_1_due_date", params.timeFirstReaction);

document.save();</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_1il3s4y" targetRef="Activity_18mb1z2" name="" id="Flow_04g3v4i" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
            <bpmn:scriptTask scriptFormat="javascript" name="Текущая линия = 1" id="Activity_19yit0a" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Текущая линия = 1&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="execution.setVariable(&quot;currentLine&quot;, 1);">
                <bpmn:incoming >Flow_0kon885</bpmn:incoming>
                <bpmn:outgoing >Flow_179dr8l</bpmn:outgoing>
                <bpmn:script>execution.setVariable("currentLine", 1);</bpmn:script>
            </bpmn:scriptTask>
            <bpmn:sequenceFlow sourceRef="Activity_19yit0a" targetRef="Activity_05m3npy" name="" id="Flow_179dr8l" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        </bpmn:subProcess>
        <bpmn:endEvent name="" id="Event_120wwf5" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}">
            <bpmn:incoming >Flow_1de0pdd</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:sendTask name="Ув. Исполнителя о закрытии заявки" id="Activity_0xg0xlw" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Исполнителя о закрытии заявки&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-closed-for-implementer" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;impl-first-line-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
            <bpmn:incoming >Flow_1e2zt0y</bpmn:incoming>
            <bpmn:outgoing >Flow_1de0pdd</bpmn:outgoing>
        </bpmn:sendTask>
        <bpmn:sendTask name="Ув. Инициатора о закрытии заявки" id="Activity_1iv7371" ecos:notificationCc="[]" ecos:notificationBcc="[]" ecos:notificationLang="ru" ecos:notificationFrom="${Config.getNotNull(&quot;app/service-desk$send-sd-email-from&quot;).asText()}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Ув. Инициатора о закрытии заявки&quot;}" ecos:notificationCcExpression="[]" ecos:notificationTemplate="notifications/template@sd-request-closed" ecos:notificationBccExpression="[]" ecos:notificationAdditionalMeta="{}" ecos:notificationTo="[&quot;initiator-role&quot;]" ecos:documentation="{}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:notificationType="EMAIL_NOTIFICATION" ecos:notificationToExpression="[]">
            <bpmn:incoming >Flow_1mp84el</bpmn:incoming>
            <bpmn:outgoing >Flow_1e2zt0y</bpmn:outgoing>
        </bpmn:sendTask>
        <bpmn:sequenceFlow sourceRef="Activity_0sinznk" targetRef="Activity_1iv7371" name="" id="Flow_1mp84el" ecos:name_ml="{}" ecos:conditionConfig="{&quot;fn&quot;:&quot;&quot;,&quot;expression&quot;:&quot;&quot;,&quot;outcome&quot;:&quot;&quot;}" ecos:conditionType="NONE"/>
        <bpmn:scriptTask scriptFormat="javascript" name="Определение линии закрытия" id="Activity_0sinznk" ecos:documentation="{}" ecos:asyncConfig="{&quot;asyncBefore&quot;:false,&quot;asyncAfter&quot;:false,&quot;exclusive&quot;:true}" ecos:name_ml="{&quot;ru&quot;:&quot;Определение линии закрытия&quot;,&quot;en&quot;:&quot;Determining the closing line&quot;}" ecos:jobConfig="{&quot;jobPriority&quot;:null,&quot;jobRetryTimeCycle&quot;:null}" ecos:script="var closingLine = execution.getVariable(&quot;currentLine&quot;);&#10;&#10;document.att(&quot;closingLine&quot;, closingLine);&#10;document.save();">
            <bpmn:incoming >Flow_139do4u</bpmn:incoming>
            <bpmn:outgoing >Flow_1mp84el</bpmn:outgoing>
            <bpmn:script>var closingLine = execution.getVariable("currentLine");

document.att("closingLine", closingLine);
document.save();</bpmn:script>
        </bpmn:scriptTask>
        <bpmn:textAnnotation id="TextAnnotation_17gh8rk" ecos:name_ml="{&quot;ru&quot;:&quot;Время первой реакции, закрытия, остановки\nИсполнитель 3-й линии&quot;}">
            <bpmn:text>Время первой реакции, закрытия, остановки
Исполнитель 3-й линии</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association  sourceRef="Activity_0th9gn9" targetRef="TextAnnotation_17gh8rk" id="Association_0vxup68"/>
    </bpmn:process>
    <bpmn:collaboration id="Collaboration_14malwd">
        <bpmn:participant  name="Service Desk" processRef="sd-process" id="Participant_1jdf6sc" ecos:documentation="{}" ecos:name_ml="{&quot;ru&quot;:&quot;Service Desk&quot;}" ecos:ecosType="emodel/type@sd-request-type"/>
    </bpmn:collaboration>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_42990289e9df5b4d551e8f37006754c9" id="Signal_onV1z9v"/>
    <bpmn:signal name="sla-2-start;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_902TUTb"/>
    <bpmn:signal name="sla-2-pause;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_hiaNiQT"/>
    <bpmn:signal name="sla-2-stop;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_MUimD9w"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_713ad1c39f6c31a0eb1ae3f07986b607" id="Signal_6OR7lHZ"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_938c09f3723c6ae1afc2a4a231d691ce" id="Signal_nkPLrxr"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_55d6c725dcf0cf835ebe4e1f8418e090" id="Signal_EQICAFV"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_33c0d678ff01e367373d3426d252f37d" id="Signal_1h6diGc"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_6fc6e4e729c4d7ef2ba2e591c0b17da0" id="Signal_y4ToQPX"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_2c1a3283c95430e5f7a34dade5fa6fa0" id="Signal_ivvrDJ6"/>
    <bpmn:signal name="COMMENT_CREATE;${execution.businessKey};ANY;pr_11944d77d54adfa1f2e6fc2ac8393cc8" id="Signal_lNRsxpR"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_9PnDmWf"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_1b488d8e813f8205ac0d7823c4f0930a" id="Signal_MqI7aaH"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_091a59ad2c664b96d92da833e4c939fc" id="Signal_tGHVFeq"/>
    <bpmn:signal name="COMMENT_CREATE;${execution.businessKey};ANY;pr_66a516f7da9703445d706f23f7097674" id="Signal_PAWLVNy"/>
    <bpmn:signal name="RECORD_CHANGED;${execution.businessKey};ANY;pr_aa3109b54981c04003cf89b94bb65468" id="Signal_LmWuJoo"/>
    <bpmn:signal name="RECORD_CHANGED;${execution.businessKey};ANY;pr_acc6b6432dcaa77c88474683032613ca" id="Signal_NKVATzs"/>
    <bpmn:signal name="RECORD_STATUS_CHANGED;${execution.businessKey};ANY;pr_2070cac6c1e7e38bbab6a04846af1662" id="Signal_1ZwQWP1"/>
    <bpmn:signal name="cancel-sla-1-notification;${execution.businessKey};ANY;pr_99914b932bd37a50b983c5e7c90ae93b" id="Signal_M1rhyTO"/>
    <bpmndi:BPMNDiagram id="BPMNDiagram_1">
        <bpmndi:BPMNPlane  bpmnElement="Collaboration_14malwd" id="BPMNPlane_1">
            <bpmndi:BPMNShape bpmnElement="Participant_1jdf6sc" isExpanded="true" id="Participant_1jdf6sc_di">
                <dc:Bounds x="-1285.0" y="-2050.0" width="2535.0" height="9370.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1l1abwg" isExpanded="true" id="Lane_1l1abwg_di">
                <dc:Bounds x="-1255.0" y="6440.0" width="2505.0" height="330.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1evb1gn" isExpanded="true" id="Lane_1evb1gn_di">
                <dc:Bounds x="-1255.0" y="5960.0" width="2505.0" height="480.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1pwbhkw" isExpanded="true" id="Lane_1pwbhkw_di">
                <dc:Bounds x="-1255.0" y="4810.0" width="2505.0" height="1150.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1j6qsac" isExpanded="true" id="Lane_1j6qsac_di">
                <dc:Bounds x="-1255.0" y="3760.0" width="2505.0" height="1050.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1gahic3" isExpanded="true" id="Lane_1gahic3_di">
                <dc:Bounds x="-1255.0" y="2150.0" width="2505.0" height="1610.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1yxhds5" isExpanded="true" id="Lane_1yxhds5_di">
                <dc:Bounds x="-1225.0" y="2920.0" width="2475.0" height="840.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_13zlu53" isExpanded="true" id="Lane_13zlu53_di">
                <dc:Bounds x="-1225.0" y="2150.0" width="2475.0" height="770.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1xy6990" isExpanded="true" id="Lane_1xy6990_di">
                <dc:Bounds x="-1255.0" y="690.0" width="2505.0" height="1460.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_14b2ulw" isExpanded="true" id="Lane_14b2ulw_di">
                <dc:Bounds x="-1225.0" y="1410.0" width="2475.0" height="740.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_01wsvje" isExpanded="true" id="Lane_01wsvje_di">
                <dc:Bounds x="-1225.0" y="690.0" width="2475.0" height="720.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_17j6kug" isExpanded="true" id="Lane_17j6kug_di">
                <dc:Bounds x="-1255.0" y="-820.0" width="2505.0" height="1510.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_0oofmcl" isExpanded="true" id="Lane_0oofmcl_di">
                <dc:Bounds x="-1225.0" y="30.0" width="2475.0" height="660.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1tngkz6" isExpanded="true" id="Lane_1tngkz6_di">
                <dc:Bounds x="-1225.0" y="-820.0" width="2475.0" height="850.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_14zmqwf" isExpanded="true" id="Lane_14zmqwf_di">
                <dc:Bounds x="-1255.0" y="7020.0" width="2505.0" height="300.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_020tf09" isExpanded="true" id="Lane_020tf09_di">
                <dc:Bounds x="-1255.0" y="6770.0" width="2505.0" height="250.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_1dr4hoy" isExpanded="true" id="Lane_1dr4hoy_di">
                <dc:Bounds x="-1255.0" y="-1700.0" width="2505.0" height="880.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Lane_0hzufr9" isExpanded="true" id="Lane_0hzufr9_di">
                <dc:Bounds x="-1255.0" y="-2050.0" width="2505.0" height="350.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="StartEvent_1ew9rff" isExpanded="true" id="_BPMNShape_StartEvent_2">
                <dc:Bounds x="-1015.0" y="-1899.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0kpskrn" isExpanded="true" id="Activity_0pm01k9_di">
                <dc:Bounds x="-781.0" y="-1810.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0lqvvzf" isExpanded="true" id="Gateway_05kq9c9_di">
                <dc:Bounds x="-926.0" y="-1906.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_10fhoir" isExpanded="true" id="Event_09j2psu_di">
                <dc:Bounds x="-110.0" y="-1899.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0th9gn9" isExpanded="true" id="Activity_1ex36zw_di">
                <dc:Bounds x="-781.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0vhsfo8" isExpanded="true" id="Activity_0vhsfo8_di">
                <dc:Bounds x="-1100.0" y="-1670.0" width="1470.0" height="500.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0u6iw0e" isExpanded="true" id="Event_0oy09nl_di">
                <dc:Bounds x="-1060.0" y="-1468.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0orxly7" isExpanded="true" id="Activity_0orxly7_di">
                <dc:Bounds x="-580.0" y="-1620.0" width="820.0" height="320.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_07q6n2n" isExpanded="true" id="Event_07q6n2n_di">
                <dc:Bounds x="-548.0" y="-1468.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0mvrxmh" isExpanded="true" id="Event_1txx4dw_di">
                <dc:Bounds x="-348.0" y="-1548.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_11w5800" isExpanded="true" id="Activity_0sa11rn_di">
                <dc:Bounds x="-100.0" y="-1570.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0pulm5v" isExpanded="true" id="Event_0pulm5v_di">
                <dc:Bounds x="142.0" y="-1468.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1oke406" isExpanded="true" id="Event_0jl8mjt_di">
                <dc:Bounds x="-348.0" y="-1398.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1p7eg83" isExpanded="true" id="Activity_1wfiyot_di">
                <dc:Bounds x="-170.0" y="-1420.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0rk66a9" isExpanded="true" id="Gateway_1lcdc68_di">
                <dc:Bounds x="-455.0" y="-1475.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0ty12j0" isExpanded="true" id="Gateway_080h072_di">
                <dc:Bounds x="25.0" y="-1475.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0hexp5t" isExpanded="true" id="Activity_0a9plab_di">
                <dc:Bounds x="-240.0" y="-1570.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0htbeg3" isExpanded="true" id="Event_0htbeg3_di">
                <dc:Bounds x="-348.0" y="-1468.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_09fi91h" id="Flow_09fi91h_di">
                <di:waypoint x="-512.0" y="-1450.0"/>
                <di:waypoint x="-455.0" y="-1450.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_10so0g9" id="Flow_10so0g9_di">
                <di:waypoint x="-430.0" y="-1475.0"/>
                <di:waypoint x="-430.0" y="-1530.0"/>
                <di:waypoint x="-348.0" y="-1530.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0xjgjij" id="Flow_0xjgjij_di">
                <di:waypoint x="0.0" y="-1530.0"/>
                <di:waypoint x="50.0" y="-1530.0"/>
                <di:waypoint x="50.0" y="-1475.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0s6v1oo" id="Flow_0s6v1oo_di">
                <di:waypoint x="75.0" y="-1450.0"/>
                <di:waypoint x="142.0" y="-1450.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0wrzegh" id="Flow_0wrzegh_di">
                <di:waypoint x="-430.0" y="-1425.0"/>
                <di:waypoint x="-430.0" y="-1380.0"/>
                <di:waypoint x="-348.0" y="-1380.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_13gp9pg" id="Flow_13gp9pg_di">
                <di:waypoint x="-312.0" y="-1380.0"/>
                <di:waypoint x="-170.0" y="-1380.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0q2kyn8" id="Flow_0q2kyn8_di">
                <di:waypoint x="-70.0" y="-1380.0"/>
                <di:waypoint x="50.0" y="-1380.0"/>
                <di:waypoint x="50.0" y="-1425.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0vytlrt" id="Flow_0vytlrt_di">
                <di:waypoint x="-312.0" y="-1530.0"/>
                <di:waypoint x="-240.0" y="-1530.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_08p2krt" id="Flow_08p2krt_di">
                <di:waypoint x="-140.0" y="-1530.0"/>
                <di:waypoint x="-100.0" y="-1530.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0rz40t9" id="Flow_0rz40t9_di">
                <di:waypoint x="-405.0" y="-1450.0"/>
                <di:waypoint x="-348.0" y="-1450.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Event_0rabk5d" isExpanded="true" id="Event_0rabk5d_di">
                <dc:Bounds x="302.0" y="-1468.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_16o194l" isExpanded="true" id="Activity_1mo1xgk_di">
                <dc:Bounds x="-751.0" y="-1489.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_12i16x3" isExpanded="true" id="Gateway_12i16x3_di">
                <dc:Bounds x="-965.0" y="-1475.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_02t83p5" isExpanded="true" id="Event_02t83p5_di">
                <dc:Bounds x="-958.0" y="-1346.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_14pi254" isExpanded="true" id="Event_14pi254_di">
                <dc:Bounds x="-8.0" y="-1238.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1bwg651" isExpanded="true" id="Event_1bwg651_di">
                <dc:Bounds x="-418.0" y="-1238.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0er2bfv" isExpanded="true" id="Event_03hej04_di">
                <dc:Bounds x="-98.0" y="-1318.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1vei2oe" isExpanded="true" id="Event_0oo9xm2_di">
                <dc:Bounds x="-508.0" y="-1318.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_1cxw9g5" id="Flow_1cxw9g5_di">
                <di:waypoint x="-1024.0" y="-1450.0"/>
                <di:waypoint x="-965.0" y="-1450.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1nnfwq0" id="Flow_1nnfwq0_di">
                <di:waypoint x="240.0" y="-1450.0"/>
                <di:waypoint x="302.0" y="-1450.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1biltdb" id="Flow_1biltdb_di">
                <di:waypoint x="-651.0" y="-1449.0"/>
                <di:waypoint x="-580.0" y="-1449.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0gkychq" id="Flow_0gkychq_di">
                <di:waypoint x="-915.0" y="-1450.0"/>
                <di:waypoint x="-833.0" y="-1450.0"/>
                <di:waypoint x="-833.0" y="-1449.0"/>
                <di:waypoint x="-751.0" y="-1449.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1yn84o6" id="Flow_1yn84o6_di">
                <di:waypoint x="-940.0" y="-1425.0"/>
                <di:waypoint x="-940.0" y="-1346.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0nvky4d" id="Flow_0nvky4d_di">
                <di:waypoint x="-80.0" y="-1282.0"/>
                <di:waypoint x="-80.0" y="-1220.0"/>
                <di:waypoint x="-8.0" y="-1220.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0a2s7hv" id="Flow_0a2s7hv_di">
                <di:waypoint x="-490.0" y="-1282.0"/>
                <di:waypoint x="-490.0" y="-1220.0"/>
                <di:waypoint x="-418.0" y="-1220.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_03kf0z2" isExpanded="true" id="Activity_1jdktwl_di">
                <dc:Bounds x="110.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0rvw39m" isExpanded="true" id="Activity_1p1vpon_di">
                <dc:Bounds x="270.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_03oygdv" isExpanded="true" id="Event_0fjuim7_di">
                <dc:Bounds x="432.0" y="-1899.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1prs3s3" isExpanded="true" id="Activity_1prs3s3_di">
                <dc:Bounds x="-540.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1ia6z48" isExpanded="true" id="Activity_03dtcro_di">
                <dc:Bounds x="-1090.0" y="120.0" width="1700.0" height="510.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1mfr21j" isExpanded="true" id="Event_1ahjtmi_di">
                <dc:Bounds x="-1050.0" y="402.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_05y1v0d" isExpanded="true" id="Activity_11s5hd9_di">
                <dc:Bounds x="-400.0" y="380.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1vkdmxx" isExpanded="true" id="Activity_06119qg_di">
                <dc:Bounds x="-250.0" y="380.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1aidnf5" isExpanded="true" id="Gateway_0msjahh_di">
                <dc:Bounds x="-95.0" y="395.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0cultoj" isExpanded="true" id="Activity_1kbqb1o_di">
                <dc:Bounds x="-660.0" y="380.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0cigs93" isExpanded="true" id="Gateway_0cigs93_di">
                <dc:Bounds x="86.0" y="395.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0bzcy74" isExpanded="true" id="Event_0bzcy74_di">
                <dc:Bounds x="402.0" y="402.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0i1ywqk" isExpanded="true" id="Gateway_0i1ywqk_di">
                <dc:Bounds x="266.0" y="395.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0c9vayk" isExpanded="true" id="Activity_0c9vayk_di">
                <dc:Bounds x="-120.0" y="140.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_110nugz" isExpanded="true" id="Activity_110nugz_di">
                <dc:Bounds x="-120.0" y="520.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0q87krm" isExpanded="true" id="Activity_0q87krm_di">
                <dc:Bounds x="61.0" y="140.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1ykfguu" isExpanded="true" id="Activity_1ykfguu_di">
                <dc:Bounds x="61.0" y="520.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_16qeug5" isExpanded="true" id="Activity_16qeug5_di">
                <dc:Bounds x="241.0" y="140.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1j0uy8k" isExpanded="true" id="Activity_1j0uy8k_di">
                <dc:Bounds x="241.0" y="520.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0ffn4sx" isExpanded="true" id="Activity_0vyw02z_di">
                <dc:Bounds x="-920.0" y="380.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_09ny55q" isExpanded="true" id="Activity_0es9chq_di">
                <dc:Bounds x="241.0" y="270.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1so4opc" isExpanded="true" id="Activity_07rcp6n_di">
                <dc:Bounds x="61.0" y="270.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_1xn15mo" id="Flow_1xn15mo_di">
                <di:waypoint x="-300.0" y="420.0"/>
                <di:waypoint x="-250.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1x8haed" id="Flow_1x8haed_di">
                <di:waypoint x="-150.0" y="420.0"/>
                <di:waypoint x="-95.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0qx7ywy" id="Flow_0qx7ywy_di">
                <di:waypoint x="-45.0" y="420.0"/>
                <di:waypoint x="86.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ihhif5" id="Flow_0ihhif5_di">
                <di:waypoint x="136.0" y="420.0"/>
                <di:waypoint x="266.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1awvjlq" id="Flow_1awvjlq_di">
                <di:waypoint x="316.0" y="420.0"/>
                <di:waypoint x="402.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1egu2ag" id="Flow_1egu2ag_di">
                <di:waypoint x="-70.0" y="395.0"/>
                <di:waypoint x="-70.0" y="220.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_13k3va4" id="Flow_13k3va4_di">
                <di:waypoint x="-70.0" y="445.0"/>
                <di:waypoint x="-70.0" y="520.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_13lhq39" id="Flow_13lhq39_di">
                <di:waypoint x="111.0" y="445.0"/>
                <di:waypoint x="111.0" y="520.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_04qc74r" id="Flow_04qc74r_di">
                <di:waypoint x="291.0" y="445.0"/>
                <di:waypoint x="291.0" y="520.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_06zdhul" id="Flow_06zdhul_di">
                <di:waypoint x="-1014.0" y="420.0"/>
                <di:waypoint x="-920.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ok0jcj" id="Flow_0ok0jcj_di">
                <di:waypoint x="-820.0" y="420.0"/>
                <di:waypoint x="-660.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1hy8i4t" id="Flow_1hy8i4t_di">
                <di:waypoint x="-560.0" y="420.0"/>
                <di:waypoint x="-400.0" y="420.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1sw4qp6" id="Flow_1sw4qp6_di">
                <di:waypoint x="291.0" y="395.0"/>
                <di:waypoint x="291.0" y="350.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1gk6qxd" id="Flow_1gk6qxd_di">
                <di:waypoint x="291.0" y="270.0"/>
                <di:waypoint x="291.0" y="220.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0jv9aym" id="Flow_0jv9aym_di">
                <di:waypoint x="111.0" y="395.0"/>
                <di:waypoint x="111.0" y="350.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ozqzhy" id="Flow_0ozqzhy_di">
                <di:waypoint x="111.0" y="270.0"/>
                <di:waypoint x="111.0" y="220.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1g09ruj" isExpanded="true" id="Activity_0yfn0aw_di">
                <dc:Bounds x="-1090.0" y="770.0" width="1575.0" height="590.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0ft1bhm" isExpanded="true" id="Event_0lv4qim_di">
                <dc:Bounds x="-1018.0" y="872.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1i0yyds" isExpanded="true" id="Activity_1s7rs2u_di">
                <dc:Bounds x="-380.0" y="850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0j3qz9x" isExpanded="true" id="Activity_0hjv2k5_di">
                <dc:Bounds x="-220.0" y="850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0tblwyo" isExpanded="true" id="Gateway_0tblwyo_di">
                <dc:Bounds x="-55.0" y="865.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1fjilzb" isExpanded="true" id="Gateway_1fjilzb_di">
                <dc:Bounds x="155.0" y="865.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_08vcr23" isExpanded="true" id="Event_08vcr23_di">
                <dc:Bounds x="252.0" y="872.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0hfv3sf" isExpanded="true" id="Activity_0hfv3sf_di">
                <dc:Bounds x="30.0" y="940.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0r012ra" isExpanded="true" id="Activity_0tv999w_di">
                <dc:Bounds x="-570.0" y="850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_01oxcnh" isExpanded="true" id="Activity_1ar3kqc_di">
                <dc:Bounds x="-930.0" y="850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1xw5wzx" isExpanded="true" id="Activity_0cn20m2_di">
                <dc:Bounds x="-760.0" y="850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_11icdc4" id="Flow_11icdc4_di">
                <di:waypoint x="-280.0" y="890.0"/>
                <di:waypoint x="-220.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1vyc832" id="Flow_1vyc832_di">
                <di:waypoint x="205.0" y="890.0"/>
                <di:waypoint x="252.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ibo4q5" id="Flow_0ibo4q5_di">
                <di:waypoint x="130.0" y="980.0"/>
                <di:waypoint x="180.0" y="980.0"/>
                <di:waypoint x="180.0" y="915.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0lx7v1u" id="Flow_0lx7v1u_di">
                <di:waypoint x="-120.0" y="890.0"/>
                <di:waypoint x="-55.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0tjizsy" id="Flow_0tjizsy_di">
                <di:waypoint x="-30.0" y="915.0"/>
                <di:waypoint x="-30.0" y="980.0"/>
                <di:waypoint x="30.0" y="980.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1rbe5lu" id="Flow_1rbe5lu_di">
                <di:waypoint x="-5.0" y="890.0"/>
                <di:waypoint x="155.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1d0b7zp" id="Flow_1d0b7zp_di">
                <di:waypoint x="-982.0" y="890.0"/>
                <di:waypoint x="-930.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1a0kdj6" id="Flow_1a0kdj6_di">
                <di:waypoint x="-830.0" y="890.0"/>
                <di:waypoint x="-760.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_08nux2r" id="Flow_08nux2r_di">
                <di:waypoint x="-470.0" y="890.0"/>
                <di:waypoint x="-380.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_09c0a1i" id="Flow_09c0a1i_di">
                <di:waypoint x="-660.0" y="890.0"/>
                <di:waypoint x="-570.0" y="890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1wczbw9" isExpanded="true" id="Activity_1dnx7tq_di">
                <dc:Bounds x="-1100.0" y="1470.0" width="1960.0" height="600.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_03edsw7" isExpanded="true" id="Event_1qr6jd5_di">
                <dc:Bounds x="-1030.0" y="1812.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0o9slan" isExpanded="true" id="Activity_0681q9t_di">
                <dc:Bounds x="-583.0" y="1790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1x51frw" isExpanded="true" id="Activity_15d60bo_di">
                <dc:Bounds x="-423.0" y="1790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1bpanwe" isExpanded="true" id="Activity_0o24ccc_di">
                <dc:Bounds x="-263.0" y="1790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0dhan6j" isExpanded="true" id="BPMNShape_0iz49fp">
                <dc:Bounds x="-116.0" y="1805.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_13n3zl5" isExpanded="true" id="BPMNShape_0pcx5bu">
                <dc:Bounds x="409.0" y="1812.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1oxjynk" isExpanded="true" id="Gateway_1oxjynk_di">
                <dc:Bounds x="65.0" y="1805.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1ou51nj" isExpanded="true" id="Gateway_1ou51nj_di">
                <dc:Bounds x="245.0" y="1805.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0tkgasg" isExpanded="true" id="Activity_0tkgasg_di">
                <dc:Bounds x="-141.0" y="1540.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1ii83hk" isExpanded="true" id="Activity_1ii83hk_di">
                <dc:Bounds x="-141.0" y="1930.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_00fhtuh" isExpanded="true" id="Activity_00fhtuh_di">
                <dc:Bounds x="40.0" y="1540.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_02c29bm" isExpanded="true" id="Activity_02c29bm_di">
                <dc:Bounds x="40.0" y="1930.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0sr4zsr" isExpanded="true" id="Activity_0sr4zsr_di">
                <dc:Bounds x="220.0" y="1540.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0mlgur0" isExpanded="true" id="Activity_0mlgur0_di">
                <dc:Bounds x="220.0" y="1930.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0q1ew99" isExpanded="true" id="Activity_0sljtth_di">
                <dc:Bounds x="-920.0" y="1790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0deyxsq" isExpanded="true" id="Activity_05e6rzj_di">
                <dc:Bounds x="220.0" y="1670.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0dr7pau" isExpanded="true" id="Activity_1g1q475_di">
                <dc:Bounds x="40.0" y="1670.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0u5veof" id="Flow_0u5veof_di">
                <di:waypoint x="-483.0" y="1830.0"/>
                <di:waypoint x="-423.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_01hyu23" id="Flow_01hyu23_di">
                <di:waypoint x="-323.0" y="1830.0"/>
                <di:waypoint x="-263.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_12arqqv" id="Flow_12arqqv_di">
                <di:waypoint x="-163.0" y="1830.0"/>
                <di:waypoint x="-116.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1kpnnt1" id="Flow_1kpnnt1_di">
                <di:waypoint x="-66.0" y="1830.0"/>
                <di:waypoint x="65.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1ama7ql" id="Flow_1ama7ql_di">
                <di:waypoint x="115.0" y="1830.0"/>
                <di:waypoint x="245.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_08o9osr" id="Flow_08o9osr_di">
                <di:waypoint x="295.0" y="1830.0"/>
                <di:waypoint x="409.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1azqz0e" id="Flow_1azqz0e_di">
                <di:waypoint x="-91.0" y="1805.0"/>
                <di:waypoint x="-91.0" y="1620.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0snpo48" id="Flow_0snpo48_di">
                <di:waypoint x="-91.0" y="1855.0"/>
                <di:waypoint x="-91.0" y="1930.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_14gi43y" id="Flow_14gi43y_di">
                <di:waypoint x="90.0" y="1855.0"/>
                <di:waypoint x="90.0" y="1930.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1p6w0az" id="Flow_1p6w0az_di">
                <di:waypoint x="270.0" y="1855.0"/>
                <di:waypoint x="270.0" y="1930.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_11e9ec0" id="Flow_11e9ec0_di">
                <di:waypoint x="-994.0" y="1830.0"/>
                <di:waypoint x="-920.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0x3ele7" id="Flow_0x3ele7_di">
                <di:waypoint x="-820.0" y="1830.0"/>
                <di:waypoint x="-583.0" y="1830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_129b5ad" id="Flow_129b5ad_di">
                <di:waypoint x="270.0" y="1805.0"/>
                <di:waypoint x="270.0" y="1750.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_03dklbe" id="Flow_03dklbe_di">
                <di:waypoint x="270.0" y="1670.0"/>
                <di:waypoint x="270.0" y="1620.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0v3g9fn" id="Flow_0v3g9fn_di">
                <di:waypoint x="90.0" y="1805.0"/>
                <di:waypoint x="90.0" y="1750.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1nmf8cs" id="Flow_1nmf8cs_di">
                <di:waypoint x="90.0" y="1670.0"/>
                <di:waypoint x="90.0" y="1620.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_0w083oy" isExpanded="true" id="BPMNShape_0mydu5u">
                <dc:Bounds x="-1090.0" y="2250.0" width="1809.0" height="590.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_196253k" isExpanded="true" id="Event_196253k_di">
                <dc:Bounds x="-998.0" y="2352.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1328tk0" isExpanded="true" id="BPMNShape_0rkvy24">
                <dc:Bounds x="-150.0" y="2330.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1lgwv6p" isExpanded="true" id="BPMNShape_12oj1kh">
                <dc:Bounds x="30.0" y="2330.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1w71yqj" isExpanded="true" id="BPMNShape_1w4b7w9">
                <dc:Bounds x="235.0" y="2345.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0molh7x" isExpanded="true" id="Gateway_0molh7x_di">
                <dc:Bounds x="-315.0" y="2345.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0ntlr54" isExpanded="true" id="Gateway_0ntlr54_di">
                <dc:Bounds x="515.0" y="2345.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_19l5bj6" isExpanded="true" id="Event_19l5bj6_di">
                <dc:Bounds x="632.0" y="2352.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1nbom6a" isExpanded="true" id="Gateway_1nbom6a_di">
                <dc:Bounds x="235.0" y="2465.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_158rhg6" isExpanded="true" id="Activity_1g6j76q_di">
                <dc:Bounds x="-910.0" y="2330.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_09t0e23" isExpanded="true" id="Activity_0to1axn_di">
                <dc:Bounds x="-480.0" y="2330.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1pihd9b" isExpanded="true" id="Activity_1pihd9b_di">
                <dc:Bounds x="350.0" y="2450.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1kgyb1x" isExpanded="true" id="BPMNShape_0gq7csk">
                <dc:Bounds x="-700.0" y="2330.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_1qe9c4i" id="BPMNEdge_0rnmu92">
                <di:waypoint x="-50.0" y="2370.0"/>
                <di:waypoint x="30.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ca7oz1" id="BPMNEdge_18qdhgn">
                <di:waypoint x="130.0" y="2370.0"/>
                <di:waypoint x="235.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1vahtwc" id="Flow_1vahtwc_di">
                <di:waypoint x="-265.0" y="2370.0"/>
                <di:waypoint x="-150.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_078bpnr" id="Flow_078bpnr_di">
                <di:waypoint x="285.0" y="2370.0"/>
                <di:waypoint x="515.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0hmsrkf" id="Flow_0hmsrkf_di">
                <di:waypoint x="565.0" y="2370.0"/>
                <di:waypoint x="632.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1ph7aio" id="Flow_1ph7aio_di">
                <di:waypoint x="260.0" y="2395.0"/>
                <di:waypoint x="260.0" y="2465.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0zh6uz7" id="Flow_0zh6uz7_di">
                <di:waypoint x="-962.0" y="2370.0"/>
                <di:waypoint x="-910.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0nmsb9r" id="Flow_0nmsb9r_di">
                <di:waypoint x="-810.0" y="2370.0"/>
                <di:waypoint x="-700.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_01o7eso" id="Flow_01o7eso_di">
                <di:waypoint x="-380.0" y="2370.0"/>
                <di:waypoint x="-315.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_11rhbvg" id="Flow_11rhbvg_di">
                <di:waypoint x="-290.0" y="2395.0"/>
                <di:waypoint x="-290.0" y="2490.0"/>
                <di:waypoint x="235.0" y="2490.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1x3y2h8" id="Flow_1x3y2h8_di">
                <di:waypoint x="285.0" y="2490.0"/>
                <di:waypoint x="350.0" y="2490.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1eac4bn" id="Flow_1eac4bn_di">
                <di:waypoint x="450.0" y="2490.0"/>
                <di:waypoint x="540.0" y="2490.0"/>
                <di:waypoint x="540.0" y="2395.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_17dspur" id="Flow_17dspur_di">
                <di:waypoint x="-600.0" y="2370.0"/>
                <di:waypoint x="-480.0" y="2370.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_0tviscz" isExpanded="true" id="BPMNShape_10rkr4e">
                <dc:Bounds x="-1090.0" y="3040.0" width="1900.0" height="600.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0bn7u2j" isExpanded="true" id="BPMNShape_1972c69">
                <dc:Bounds x="-1020.0" y="3412.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0rv644c" isExpanded="true" id="BPMNShape_0gj0ccy">
                <dc:Bounds x="-560.0" y="3390.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_11a8yb0" isExpanded="true" id="BPMNShape_1xtc44b">
                <dc:Bounds x="-340.0" y="3390.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1cedv42" isExpanded="true" id="BPMNShape_1c3ah34">
                <dc:Bounds x="-123.0" y="3390.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1amnbvs" isExpanded="true" id="BPMNShape_1amkbaj">
                <dc:Bounds x="24.0" y="3405.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_155buyn" isExpanded="true" id="BPMNShape_0jrkatc">
                <dc:Bounds x="608.0" y="3412.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1pqbm4e" isExpanded="true" id="Gateway_1pqbm4e_di">
                <dc:Bounds x="205.0" y="3405.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1thkp2k" isExpanded="true" id="Gateway_1thkp2k_di">
                <dc:Bounds x="385.0" y="3405.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_09dy0j7" isExpanded="true" id="Activity_09dy0j7_di">
                <dc:Bounds x="-1.0" y="3110.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0wn91cs" isExpanded="true" id="Activity_0wn91cs_di">
                <dc:Bounds x="180.0" y="3110.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_16qy7ec" isExpanded="true" id="Activity_16qy7ec_di">
                <dc:Bounds x="180.0" y="3530.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0e4gpjt" isExpanded="true" id="Activity_0e4gpjt_di">
                <dc:Bounds x="360.0" y="3110.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_03muc8r" isExpanded="true" id="Activity_03muc8r_di">
                <dc:Bounds x="360.0" y="3530.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0l4h84z" isExpanded="true" id="Activity_0r9zkx7_di">
                <dc:Bounds x="-810.0" y="3390.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0ntn9gy" isExpanded="true" id="Activity_1b4i47h_di">
                <dc:Bounds x="360.0" y="3260.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1aq2go3" isExpanded="true" id="Activity_1plztet_di">
                <dc:Bounds x="180.0" y="3260.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_03tiasi" id="BPMNEdge_0t01grv">
                <di:waypoint x="-460.0" y="3430.0"/>
                <di:waypoint x="-340.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0yvqsxt" id="BPMNEdge_0yzb3ps">
                <di:waypoint x="-240.0" y="3430.0"/>
                <di:waypoint x="-123.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1yhxjlo" id="BPMNEdge_1umpszf">
                <di:waypoint x="-23.0" y="3430.0"/>
                <di:waypoint x="24.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1ug0y4n" id="Flow_1ug0y4n_di">
                <di:waypoint x="74.0" y="3430.0"/>
                <di:waypoint x="205.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0zxrb4b" id="Flow_0zxrb4b_di">
                <di:waypoint x="255.0" y="3430.0"/>
                <di:waypoint x="385.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_12gtm8p" id="Flow_12gtm8p_di">
                <di:waypoint x="435.0" y="3430.0"/>
                <di:waypoint x="608.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_14lx7i2" id="Flow_14lx7i2_di">
                <di:waypoint x="49.0" y="3405.0"/>
                <di:waypoint x="49.0" y="3190.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0q0bej6" id="Flow_0q0bej6_di">
                <di:waypoint x="230.0" y="3455.0"/>
                <di:waypoint x="230.0" y="3530.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0eh4c8a" id="Flow_0eh4c8a_di">
                <di:waypoint x="410.0" y="3455.0"/>
                <di:waypoint x="410.0" y="3530.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0xi0aud" id="Flow_0xi0aud_di">
                <di:waypoint x="-984.0" y="3430.0"/>
                <di:waypoint x="-810.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0coum4j" id="Flow_0coum4j_di">
                <di:waypoint x="-710.0" y="3430.0"/>
                <di:waypoint x="-560.0" y="3430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ujxg72" id="Flow_0ujxg72_di">
                <di:waypoint x="410.0" y="3405.0"/>
                <di:waypoint x="410.0" y="3340.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0b1w0tr" id="Flow_0b1w0tr_di">
                <di:waypoint x="410.0" y="3260.0"/>
                <di:waypoint x="410.0" y="3190.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_013fusr" id="Flow_013fusr_di">
                <di:waypoint x="230.0" y="3405.0"/>
                <di:waypoint x="230.0" y="3340.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_11a8ihf" id="Flow_11a8ihf_di">
                <di:waypoint x="230.0" y="3260.0"/>
                <di:waypoint x="230.0" y="3190.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_10ytz2r" isExpanded="true" id="Activity_1xshmg5_di">
                <dc:Bounds x="-1100.0" y="3860.0" width="2300.0" height="820.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0xsln6t" isExpanded="true" id="Event_0gf5eit_di">
                <dc:Bounds x="-1038.0" y="4127.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1c9zo5l" isExpanded="true" id="Activity_0xwupkf_di">
                <dc:Bounds x="-610.0" y="4105.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0ol278f" isExpanded="true" id="Activity_0onj5ar_di">
                <dc:Bounds x="-360.0" y="3940.0" width="1210.0" height="460.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_066s0wc" isExpanded="true" id="Event_066s0wc_di">
                <dc:Bounds x="-278.0" y="4142.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0mwzf9t" isExpanded="true" id="Activity_0airnfm_di">
                <dc:Bounds x="-190.0" y="4120.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1o8zlxo" isExpanded="true" id="Gateway_1o8zlxo_di">
                <dc:Bounds x="-35.0" y="4135.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0wuekqf" isExpanded="true" id="Event_0eusiq0_di">
                <dc:Bounds x="92.0" y="4032.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1eztcj3" isExpanded="true" id="Gateway_1eztcj3_di">
                <dc:Bounds x="215.0" y="4135.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1o97d7q" isExpanded="true" id="Activity_1yde7ax_di">
                <dc:Bounds x="320.0" y="4120.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1bo2z8h" isExpanded="true" id="Event_1bo2z8h_di">
                <dc:Bounds x="482.0" y="4142.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0dsh5l7" isExpanded="true" id="Activity_1k2ekow_di">
                <dc:Bounds x="60.0" y="4230.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="TextAnnotation_1pwsifm" isExpanded="true" id="TextAnnotation_1pwsifm_di">
                <dc:Bounds x="410.0" y="3980.0" width="160.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_1e68jye" id="Flow_1e68jye_di">
                <di:waypoint x="-242.0" y="4160.0"/>
                <di:waypoint x="-190.0" y="4160.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_08qba6j" id="Flow_08qba6j_di">
                <di:waypoint x="-90.0" y="4160.0"/>
                <di:waypoint x="-35.0" y="4160.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0q16jse" id="Flow_0q16jse_di">
                <di:waypoint x="-10.0" y="4135.0"/>
                <di:waypoint x="-10.0" y="4050.0"/>
                <di:waypoint x="92.0" y="4050.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_12677rt" id="Flow_12677rt_di">
                <di:waypoint x="-10.0" y="4185.0"/>
                <di:waypoint x="-10.0" y="4270.0"/>
                <di:waypoint x="60.0" y="4270.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1806pgm" id="Flow_1806pgm_di">
                <di:waypoint x="128.0" y="4050.0"/>
                <di:waypoint x="240.0" y="4050.0"/>
                <di:waypoint x="240.0" y="4135.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1pbmjv9" id="Flow_1pbmjv9_di">
                <di:waypoint x="160.0" y="4270.0"/>
                <di:waypoint x="240.0" y="4270.0"/>
                <di:waypoint x="240.0" y="4185.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1ahth3i" id="Flow_1ahth3i_di">
                <di:waypoint x="265.0" y="4160.0"/>
                <di:waypoint x="320.0" y="4160.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_16xoi3w" id="Flow_16xoi3w_di">
                <di:waypoint x="420.0" y="4160.0"/>
                <di:waypoint x="482.0" y="4160.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Association_1lxyqjq" id="Association_1lxyqjq_di">
                <di:waypoint x="392.0" y="4120.0"/>
                <di:waypoint x="425.0" y="4060.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_11jvxin" isExpanded="true" id="Activity_0alaimy_di">
                <dc:Bounds x="-930.0" y="4105.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_04y90n0" isExpanded="true" id="Activity_10c1p5j_di">
                <dc:Bounds x="-780.0" y="4105.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1gz2hue" isExpanded="true" id="Activity_1gz2hue_di">
                <dc:Bounds x="230.0" y="4440.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0k5fat1" isExpanded="true" id="Event_0r9nums_di">
                <dc:Bounds x="-468.0" y="4127.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_17xiodk" isExpanded="true" id="Gateway_17xiodk_di">
                <dc:Bounds x="925.0" y="4120.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0rbw3qq" isExpanded="true" id="Event_0rbw3qq_di">
                <dc:Bounds x="1132.0" y="4127.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_09rduee" isExpanded="true" id="Event_06j4kjz_di">
                <dc:Bounds x="1022.0" y="4127.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1cm4qnk" isExpanded="true" id="Event_16eqabg_di">
                <dc:Bounds x="832.0" y="3982.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0j6gdz4" isExpanded="true" id="Event_10s7hxv_di">
                <dc:Bounds x="122.0" y="4382.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_14iwcfz" id="Flow_14iwcfz_di">
                <di:waypoint x="-510.0" y="4145.0"/>
                <di:waypoint x="-468.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0bwog0p" id="Flow_0bwog0p_di">
                <di:waypoint x="-1002.0" y="4145.0"/>
                <di:waypoint x="-930.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_19lov4t" id="Flow_19lov4t_di">
                <di:waypoint x="-830.0" y="4145.0"/>
                <di:waypoint x="-780.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1s7nb3s" id="Flow_1s7nb3s_di">
                <di:waypoint x="140.0" y="4418.0"/>
                <di:waypoint x="140.0" y="4480.0"/>
                <di:waypoint x="230.0" y="4480.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_063p9je" id="Flow_063p9je_di">
                <di:waypoint x="-680.0" y="4145.0"/>
                <di:waypoint x="-610.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_06r7cqk" id="Flow_06r7cqk_di">
                <di:waypoint x="330.0" y="4480.0"/>
                <di:waypoint x="950.0" y="4480.0"/>
                <di:waypoint x="950.0" y="4170.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0mymgch" id="Flow_0mymgch_di">
                <di:waypoint x="-432.0" y="4145.0"/>
                <di:waypoint x="-360.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1oz8mnz" id="Flow_1oz8mnz_di">
                <di:waypoint x="850.0" y="4145.0"/>
                <di:waypoint x="925.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1yfpd3m" id="Flow_1yfpd3m_di">
                <di:waypoint x="975.0" y="4145.0"/>
                <di:waypoint x="1022.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1bevzo3" id="Flow_1bevzo3_di">
                <di:waypoint x="1058.0" y="4145.0"/>
                <di:waypoint x="1132.0" y="4145.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1p4uqo6" id="Flow_1p4uqo6_di">
                <di:waypoint x="868.0" y="4000.0"/>
                <di:waypoint x="950.0" y="4000.0"/>
                <di:waypoint x="950.0" y="4120.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1rmxd13" isExpanded="true" id="Activity_16d2tjz_di">
                <dc:Bounds x="-1100.0" y="4920.0" width="2270.0" height="990.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_18ba0e1" isExpanded="true" id="Event_0ylw330_di">
                <dc:Bounds x="-1060.0" y="5372.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1l7cv2x" isExpanded="true" id="Activity_01nu4hp_di">
                <dc:Bounds x="-710.0" y="5350.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1itptv5" isExpanded="true" id="Activity_1itptv5_di">
                <dc:Bounds x="-470.0" y="5090.0" width="1250.0" height="660.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0bcl15q" isExpanded="true" id="Event_0bcl15q_di">
                <dc:Bounds x="-430.0" y="5372.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1usfwq2" isExpanded="true" id="Activity_0vqbzni_di">
                <dc:Bounds x="-340.0" y="5350.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0z179ob" isExpanded="true" id="Gateway_0z179ob_di">
                <dc:Bounds x="-185.0" y="5365.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1asx6g4" isExpanded="true" id="Event_0dst4mb_di">
                <dc:Bounds x="12.0" y="5172.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_08e4sav" isExpanded="true" id="Activity_1p5k6i5_di">
                <dc:Bounds x="-20.0" y="5500.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1b7zu5l" isExpanded="true" id="Gateway_1b7zu5l_di">
                <dc:Bounds x="195.0" y="5245.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1eoi187" isExpanded="true" id="Gateway_1eoi187_di">
                <dc:Bounds x="195.0" y="5515.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1qgc9et" isExpanded="true" id="Event_1qgc9et_di">
                <dc:Bounds x="202.0" y="5642.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1xew9jn" isExpanded="true" id="Activity_141de4k_di">
                <dc:Bounds x="330.0" y="5500.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_04zzp38" isExpanded="true" id="Activity_141lp59_di">
                <dc:Bounds x="360.0" y="5230.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_059gqzu" isExpanded="true" id="Gateway_059gqzu_di">
                <dc:Bounds x="545.0" y="5245.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1pry1vk" isExpanded="true" id="Event_1pry1vk_di">
                <dc:Bounds x="682.0" y="5252.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1wgvp9o" isExpanded="true" id="Activity_1wgvp9o_di">
                <dc:Bounds x="520.0" y="5500.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0yctzt8" isExpanded="true" id="Activity_0ty6rqr_di">
                <dc:Bounds x="170.0" y="5350.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0go5uvo" id="Flow_0go5uvo_di">
                <di:waypoint x="-394.0" y="5390.0"/>
                <di:waypoint x="-340.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0lan74l" id="Flow_0lan74l_di">
                <di:waypoint x="-240.0" y="5390.0"/>
                <di:waypoint x="-185.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0eug3m2" id="Flow_0eug3m2_di">
                <di:waypoint x="-160.0" y="5365.0"/>
                <di:waypoint x="-160.0" y="5190.0"/>
                <di:waypoint x="12.0" y="5190.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ax87mc" id="Flow_0ax87mc_di">
                <di:waypoint x="-160.0" y="5415.0"/>
                <di:waypoint x="-160.0" y="5540.0"/>
                <di:waypoint x="-20.0" y="5540.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_09it6zo" id="Flow_09it6zo_di">
                <di:waypoint x="48.0" y="5190.0"/>
                <di:waypoint x="220.0" y="5190.0"/>
                <di:waypoint x="220.0" y="5245.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_18t199h" id="Flow_18t199h_di">
                <di:waypoint x="80.0" y="5540.0"/>
                <di:waypoint x="195.0" y="5540.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0psov0a" id="Flow_0psov0a_di">
                <di:waypoint x="220.0" y="5565.0"/>
                <di:waypoint x="220.0" y="5642.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_06u0i6h" id="Flow_06u0i6h_di">
                <di:waypoint x="245.0" y="5540.0"/>
                <di:waypoint x="330.0" y="5540.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_15yd41f" id="Flow_15yd41f_di">
                <di:waypoint x="245.0" y="5270.0"/>
                <di:waypoint x="360.0" y="5270.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1g6xpac" id="Flow_1g6xpac_di">
                <di:waypoint x="460.0" y="5270.0"/>
                <di:waypoint x="545.0" y="5270.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0asp5w4" id="Flow_0asp5w4_di">
                <di:waypoint x="595.0" y="5270.0"/>
                <di:waypoint x="682.0" y="5270.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_11amwya" id="Flow_11amwya_di">
                <di:waypoint x="430.0" y="5540.0"/>
                <di:waypoint x="520.0" y="5540.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0hxfghz" id="Flow_0hxfghz_di">
                <di:waypoint x="570.0" y="5500.0"/>
                <di:waypoint x="570.0" y="5295.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1iqa6ih" id="Flow_1iqa6ih_di">
                <di:waypoint x="220.0" y="5515.0"/>
                <di:waypoint x="220.0" y="5430.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0m81fo2" id="Flow_0m81fo2_di">
                <di:waypoint x="220.0" y="5350.0"/>
                <di:waypoint x="220.0" y="5295.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_0xrfu8j" isExpanded="true" id="Activity_0z9w470_di">
                <dc:Bounds x="-980.0" y="5350.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_12kyauz" isExpanded="true" id="Activity_0rg66dj_di">
                <dc:Bounds x="-850.0" y="5350.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1smstlk" isExpanded="true" id="Activity_1hgsu4u_di">
                <dc:Bounds x="-140.0" y="5790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1oypy39" isExpanded="true" id="Activity_1oypy39_di">
                <dc:Bounds x="430.0" y="5790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1307c6n" isExpanded="true" id="Activity_0qciogx_di">
                <dc:Bounds x="270.0" y="5790.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1is97aw" isExpanded="true" id="Gateway_1is97aw_di">
                <dc:Bounds x="885.0" y="5365.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_06aswh9" isExpanded="true" id="Event_06aswh9_di">
                <dc:Bounds x="1092.0" y="5372.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0epqqmo" isExpanded="true" id="Event_1f0ie9s_di">
                <dc:Bounds x="1002.0" y="5372.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1g3dzb3" isExpanded="true" id="Event_00zfect_di">
                <dc:Bounds x="-568.0" y="5372.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0lf21mf" isExpanded="true" id="Event_03oki77_di">
                <dc:Bounds x="762.0" y="5172.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0mgqtus" isExpanded="true" id="Event_0j6fjxd_di">
                <dc:Bounds x="182.0" y="5732.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0td1d3a" isExpanded="true" id="Event_1img9k8_di">
                <dc:Bounds x="-308.0" y="5732.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_1is3su4" id="Flow_1is3su4_di">
                <di:waypoint x="-610.0" y="5390.0"/>
                <di:waypoint x="-568.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ikpad8" id="Flow_0ikpad8_di">
                <di:waypoint x="-1024.0" y="5390.0"/>
                <di:waypoint x="-980.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0sd8fqe" id="Flow_0sd8fqe_di">
                <di:waypoint x="-880.0" y="5390.0"/>
                <di:waypoint x="-850.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ltrf5e" id="Flow_0ltrf5e_di">
                <di:waypoint x="-750.0" y="5390.0"/>
                <di:waypoint x="-710.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1szbzug" id="Flow_1szbzug_di">
                <di:waypoint x="-290.0" y="5768.0"/>
                <di:waypoint x="-290.0" y="5830.0"/>
                <di:waypoint x="-140.0" y="5830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0f6d2sc" id="Flow_0f6d2sc_di">
                <di:waypoint x="200.0" y="5768.0"/>
                <di:waypoint x="200.0" y="5830.0"/>
                <di:waypoint x="270.0" y="5830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0z6rvkt" id="Flow_0z6rvkt_di">
                <di:waypoint x="370.0" y="5830.0"/>
                <di:waypoint x="430.0" y="5830.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0vgc4pn" id="Flow_0vgc4pn_di">
                <di:waypoint x="530.0" y="5830.0"/>
                <di:waypoint x="910.0" y="5830.0"/>
                <di:waypoint x="910.0" y="5415.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_050rov7" id="Flow_050rov7_di">
                <di:waypoint x="780.0" y="5390.0"/>
                <di:waypoint x="885.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0vq32ym" id="Flow_0vq32ym_di">
                <di:waypoint x="935.0" y="5390.0"/>
                <di:waypoint x="1002.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_18uos1n" id="Flow_18uos1n_di">
                <di:waypoint x="1038.0" y="5390.0"/>
                <di:waypoint x="1092.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_098rmtj" id="Flow_098rmtj_di">
                <di:waypoint x="-532.0" y="5390.0"/>
                <di:waypoint x="-470.0" y="5390.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1gj03u7" id="Flow_1gj03u7_di">
                <di:waypoint x="798.0" y="5190.0"/>
                <di:waypoint x="910.0" y="5190.0"/>
                <di:waypoint x="910.0" y="5365.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1etfdiu" isExpanded="true" id="Activity_02u7wn1_di">
                <dc:Bounds x="-1100.0" y="6060.0" width="1310.0" height="300.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0y2nffn" isExpanded="true" id="Event_0mb77ol_di">
                <dc:Bounds x="-1060.0" y="6182.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1lxnmvq" isExpanded="true" id="Activity_019m1zt_di">
                <dc:Bounds x="-200.0" y="6160.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1aqbuhm" isExpanded="true" id="Event_1aqbuhm_di">
                <dc:Bounds x="-28.0" y="6182.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_07v70qd" isExpanded="true" id="Activity_00zjar7_di">
                <dc:Bounds x="-540.0" y="6160.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0fz9iet" isExpanded="true" id="Activity_1xz6tox_di">
                <dc:Bounds x="-710.0" y="6160.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0j4zq53" isExpanded="true" id="Event_0qc3ewy_di">
                <dc:Bounds x="-358.0" y="6182.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_13i85fg" isExpanded="true" id="Activity_0i25dn1_di">
                <dc:Bounds x="-910.0" y="6160.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0h0xtcb" id="Flow_0h0xtcb_di">
                <di:waypoint x="-100.0" y="6200.0"/>
                <di:waypoint x="-28.0" y="6200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0v0updz" id="Flow_0v0updz_di">
                <di:waypoint x="-440.0" y="6200.0"/>
                <di:waypoint x="-358.0" y="6200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1pl0hmt" id="Flow_1pl0hmt_di">
                <di:waypoint x="-610.0" y="6200.0"/>
                <di:waypoint x="-540.0" y="6200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1327ljn" id="Flow_1327ljn_di">
                <di:waypoint x="-1024.0" y="6200.0"/>
                <di:waypoint x="-910.0" y="6200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0em837z" id="Flow_0em837z_di">
                <di:waypoint x="-322.0" y="6200.0"/>
                <di:waypoint x="-200.0" y="6200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1728t50" id="Flow_1728t50_di">
                <di:waypoint x="-810.0" y="6200.0"/>
                <di:waypoint x="-710.0" y="6200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1aeztn8" isExpanded="true" id="Activity_012rrqz_di">
                <dc:Bounds x="-1100.0" y="6510.0" width="510.0" height="200.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0e5xruf" isExpanded="true" id="Event_0vjpwn3_di">
                <dc:Bounds x="-1060.0" y="6592.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_18bj5p8" isExpanded="true" id="Event_18bj5p8_di">
                <dc:Bounds x="-678.0" y="6592.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1iuhmi6" isExpanded="true" id="Activity_1navp34_di">
                <dc:Bounds x="-900.0" y="6570.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0eq912r" id="Flow_0eq912r_di">
                <di:waypoint x="-1024.0" y="6610.0"/>
                <di:waypoint x="-900.0" y="6610.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0fewzrw" id="Flow_0fewzrw_di">
                <di:waypoint x="-800.0" y="6610.0"/>
                <di:waypoint x="-678.0" y="6610.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1ymv03a" isExpanded="true" id="Activity_0e6xyy0_di">
                <dc:Bounds x="-540.0" y="6510.0" width="510.0" height="200.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0nefudh" isExpanded="true" id="Activity_1yuvb8m_di">
                <dc:Bounds x="-340.0" y="6570.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_04e2niv" isExpanded="true" id="Event_04e2niv_di">
                <dc:Bounds x="-108.0" y="6592.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0ch7h2r" isExpanded="true" id="Event_14nfitj_di">
                <dc:Bounds x="-488.0" y="6592.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0eyh0kk" id="Flow_0eyh0kk_di">
                <di:waypoint x="-452.0" y="6610.0"/>
                <di:waypoint x="-340.0" y="6610.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0723usk" id="Flow_0723usk_di">
                <di:waypoint x="-240.0" y="6610.0"/>
                <di:waypoint x="-108.0" y="6610.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_02v2j3o" isExpanded="true" id="Activity_0uldgvd_di">
                <dc:Bounds x="-1100.0" y="7070.0" width="530.0" height="200.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1jpwstt" isExpanded="true" id="Event_014m8cd_di">
                <dc:Bounds x="-1060.0" y="7152.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1qvvo5u" isExpanded="true" id="Activity_1j2042u_di">
                <dc:Bounds x="-880.0" y="7130.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0s74u88" isExpanded="true" id="Event_0s74u88_di">
                <dc:Bounds x="-658.0" y="7152.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0g6uuq6" id="Flow_0g6uuq6_di">
                <di:waypoint x="-1024.0" y="7170.0"/>
                <di:waypoint x="-880.0" y="7170.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0rl85cv" id="Flow_0rl85cv_di">
                <di:waypoint x="-780.0" y="7170.0"/>
                <di:waypoint x="-658.0" y="7170.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_05y21r6" isExpanded="true" id="Activity_02qkt6q_di">
                <dc:Bounds x="-1100.0" y="6790.0" width="530.0" height="200.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0epqf8h" isExpanded="true" id="Event_1e08y87_di">
                <dc:Bounds x="-1060.0" y="6872.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1kem475" isExpanded="true" id="Activity_1btd4jb_di">
                <dc:Bounds x="-810.0" y="6850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_06zerk3" isExpanded="true" id="Event_06zerk3_di">
                <dc:Bounds x="-648.0" y="6872.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1mnyddm" isExpanded="true" id="Activity_0j6ttc9_di">
                <dc:Bounds x="-960.0" y="6850.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0t7qer6" id="Flow_0t7qer6_di">
                <di:waypoint x="-710.0" y="6890.0"/>
                <di:waypoint x="-648.0" y="6890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_097vf6p" id="Flow_097vf6p_di">
                <di:waypoint x="-1024.0" y="6890.0"/>
                <di:waypoint x="-960.0" y="6890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0fno9rr" id="Flow_0fno9rr_di">
                <di:waypoint x="-860.0" y="6890.0"/>
                <di:waypoint x="-810.0" y="6890.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_1s5p337" isExpanded="true" id="Activity_1g1uvz9_di">
                <dc:Bounds x="-1100.0" y="-1150.0" width="350.0" height="200.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_09l1sbs" isExpanded="true" id="Event_0nefu6k_di">
                <dc:Bounds x="-1060.0" y="-1068.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1fu2ni7" isExpanded="true" id="Event_1fu2ni7_di">
                <dc:Bounds x="-808.0" y="-1068.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1h3yhza" isExpanded="true" id="Activity_1m0r9dn_di">
                <dc:Bounds x="-970.0" y="-1090.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_1cfx7jp" id="Flow_1cfx7jp_di">
                <di:waypoint x="-1024.0" y="-1050.0"/>
                <di:waypoint x="-970.0" y="-1050.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_12ky37s" id="Flow_12ky37s_di">
                <di:waypoint x="-870.0" y="-1050.0"/>
                <di:waypoint x="-808.0" y="-1050.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_0h47ybh" isExpanded="true" id="Activity_1h5yuy2_di">
                <dc:Bounds x="-720.0" y="-1150.0" width="350.0" height="200.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0upahzr" isExpanded="true" id="Activity_1glcn5r_di">
                <dc:Bounds x="-600.0" y="-1090.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0kt6zkf" isExpanded="true" id="Event_0kt6zkf_di">
                <dc:Bounds x="-448.0" y="-1068.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0qtmzwb" isExpanded="true" id="Event_1ppvw0y_di">
                <dc:Bounds x="-680.0" y="-1068.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0exy7xw" id="Flow_0exy7xw_di">
                <di:waypoint x="-644.0" y="-1050.0"/>
                <di:waypoint x="-600.0" y="-1050.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1i16bnc" id="Flow_1i16bnc_di">
                <di:waypoint x="-500.0" y="-1050.0"/>
                <di:waypoint x="-448.0" y="-1050.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Activity_09qiygb" isExpanded="true" id="Activity_1nr0qy5_di">
                <dc:Bounds x="-1090.0" y="-680.0" width="1970.0" height="680.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0ln4xe3" isExpanded="true" id="Event_1aoc8jd_di">
                <dc:Bounds x="-1028.0" y="-528.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0poy3ky" isExpanded="true" id="Activity_0os8eha_di">
                <dc:Bounds x="-250.0" y="-550.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0mp4zci" isExpanded="true" id="Activity_1kpo7ry_di">
                <dc:Bounds x="-60.0" y="-550.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_15rio7a" isExpanded="true" id="Gateway_15rio7a_di">
                <dc:Bounds x="135.0" y="-535.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1nq85pw" isExpanded="true" id="Gateway_1nq85pw_di">
                <dc:Bounds x="435.0" y="-535.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0qw81zj" isExpanded="true" id="Event_0qw81zj_di">
                <dc:Bounds x="792.0" y="-528.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0n7ogtj" isExpanded="true" id="Activity_0n7ogtj_di">
                <dc:Bounds x="270.0" y="-630.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_0493q6t" isExpanded="true" id="Gateway_01p2hs0_di">
                <dc:Bounds x="-365.0" y="-535.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0qrb74g" isExpanded="true" id="Activity_1y596bs_di">
                <dc:Bounds x="-940.0" y="-550.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_05m3npy" isExpanded="true" id="Activity_167j50f_di">
                <dc:Bounds x="-620.0" y="-550.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_18mb1z2" isExpanded="true" id="Activity_18mb1z2_di">
                <dc:Bounds x="-130.0" y="-360.0" width="650.0" height="320.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1gywiye" isExpanded="true" id="Event_1gywiye_di">
                <dc:Bounds x="-108.0" y="-218.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_1vt9n0z" isExpanded="true" id="Gateway_1cflig9_di">
                <dc:Bounds x="5.0" y="-225.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0zz32r2" isExpanded="true" id="Event_1i3i25r_di">
                <dc:Bounds x="122.0" y="-318.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0avxd89" isExpanded="true" id="Activity_1sewbyo_di">
                <dc:Bounds x="220.0" y="-340.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1q9mnfb" isExpanded="true" id="Event_1igqkgx_di">
                <dc:Bounds x="122.0" y="-148.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_06uwq0q" isExpanded="true" id="Activity_0tmc8qn_di">
                <dc:Bounds x="220.0" y="-170.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Gateway_09kdcg2" isExpanded="true" id="Gateway_1or62xy_di">
                <dc:Bounds x="355.0" y="-235.0" width="50.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_0nthg3d" isExpanded="true" id="Event_0nthg3d_di">
                <dc:Bounds x="442.0" y="-228.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_04p5608" id="Flow_04p5608_di">
                <di:waypoint x="-72.0" y="-200.0"/>
                <di:waypoint x="5.0" y="-200.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0wtexcu" id="Flow_0wtexcu_di">
                <di:waypoint x="30.0" y="-225.0"/>
                <di:waypoint x="30.0" y="-300.0"/>
                <di:waypoint x="122.0" y="-300.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_18r955x" id="Flow_18r955x_di">
                <di:waypoint x="30.0" y="-175.0"/>
                <di:waypoint x="30.0" y="-130.0"/>
                <di:waypoint x="122.0" y="-130.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1b5b0ld" id="Flow_1b5b0ld_di">
                <di:waypoint x="158.0" y="-300.0"/>
                <di:waypoint x="220.0" y="-300.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1r7j9n0" id="Flow_1r7j9n0_di">
                <di:waypoint x="320.0" y="-300.0"/>
                <di:waypoint x="380.0" y="-300.0"/>
                <di:waypoint x="380.0" y="-235.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1pav6ij" id="Flow_1pav6ij_di">
                <di:waypoint x="158.0" y="-130.0"/>
                <di:waypoint x="220.0" y="-130.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1uux4oh" id="Flow_1uux4oh_di">
                <di:waypoint x="320.0" y="-130.0"/>
                <di:waypoint x="380.0" y="-130.0"/>
                <di:waypoint x="380.0" y="-185.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1qumj7f" id="Flow_1qumj7f_di">
                <di:waypoint x="405.0" y="-210.0"/>
                <di:waypoint x="442.0" y="-210.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Event_1z08egl" isExpanded="true" id="Event_08ecxqj_di">
                <dc:Bounds x="542.0" y="-528.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_025qrrg" isExpanded="true" id="Event_025qrrg_di">
                <dc:Bounds x="632.0" y="-228.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1rb08kr" isExpanded="true" id="Activity_1uwieaa_di">
                <dc:Bounds x="620.0" y="-550.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_12qctcf" isExpanded="true" id="Event_0441ax9_di">
                <dc:Bounds x="-468.0" y="-528.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1il3s4y" isExpanded="true" id="Activity_1vel2br_di">
                <dc:Bounds x="-390.0" y="-250.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_19yit0a" isExpanded="true" id="Activity_0uz7lap_di">
                <dc:Bounds x="-780.0" y="-550.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Event_1q0kz9e" isExpanded="true" id="Event_0widqwd_di">
                <dc:Bounds x="502.0" y="-228.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ytpj8p" id="Flow_0ytpj8p_di">
                <di:waypoint x="-315.0" y="-510.0"/>
                <di:waypoint x="-250.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0a3vijd" id="Flow_0a3vijd_di">
                <di:waypoint x="-340.0" y="-485.0"/>
                <di:waypoint x="-340.0" y="-250.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_07sucp7" id="Flow_07sucp7_di">
                <di:waypoint x="-150.0" y="-510.0"/>
                <di:waypoint x="-60.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0rwllui" id="Flow_0rwllui_di">
                <di:waypoint x="40.0" y="-510.0"/>
                <di:waypoint x="135.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1c03ua0" id="Flow_1c03ua0_di">
                <di:waypoint x="185.0" y="-510.0"/>
                <di:waypoint x="435.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0cfyc1u" id="Flow_0cfyc1u_di">
                <di:waypoint x="485.0" y="-510.0"/>
                <di:waypoint x="542.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0s2euri" id="Flow_0s2euri_di">
                <di:waypoint x="160.0" y="-535.0"/>
                <di:waypoint x="160.0" y="-590.0"/>
                <di:waypoint x="270.0" y="-590.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0lisv9u" id="Flow_0lisv9u_di">
                <di:waypoint x="370.0" y="-590.0"/>
                <di:waypoint x="460.0" y="-590.0"/>
                <di:waypoint x="460.0" y="-535.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1xtmc4q" id="Flow_1xtmc4q_di">
                <di:waypoint x="-992.0" y="-510.0"/>
                <di:waypoint x="-940.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0kon885" id="Flow_0kon885_di">
                <di:waypoint x="-840.0" y="-510.0"/>
                <di:waypoint x="-780.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_146p715" id="Flow_146p715_di">
                <di:waypoint x="-520.0" y="-510.0"/>
                <di:waypoint x="-468.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1rqiwy6" id="Flow_1rqiwy6_di">
                <di:waypoint x="578.0" y="-510.0"/>
                <di:waypoint x="620.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_18ce1t4" id="Flow_18ce1t4_di">
                <di:waypoint x="538.0" y="-210.0"/>
                <di:waypoint x="632.0" y="-210.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1bcf6z9" id="Flow_1bcf6z9_di">
                <di:waypoint x="720.0" y="-510.0"/>
                <di:waypoint x="792.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1cq9ayl" id="Flow_1cq9ayl_di">
                <di:waypoint x="-432.0" y="-510.0"/>
                <di:waypoint x="-365.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_04g3v4i" id="Flow_04g3v4i_di">
                <di:waypoint x="-290.0" y="-210.0"/>
                <di:waypoint x="-130.0" y="-210.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_179dr8l" id="Flow_179dr8l_di">
                <di:waypoint x="-680.0" y="-510.0"/>
                <di:waypoint x="-620.0" y="-510.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape bpmnElement="Event_120wwf5" isExpanded="true" id="Event_120wwf5_di">
                <dc:Bounds x="972.0" y="-1899.0" width="36.0" height="36.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0xg0xlw" isExpanded="true" id="Activity_0jv2nf1_di">
                <dc:Bounds x="820.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_1iv7371" isExpanded="true" id="Activity_1hxhco7_di">
                <dc:Bounds x="680.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="Activity_0sinznk" isExpanded="true" id="Activity_0a5gqtu_di">
                <dc:Bounds x="530.0" y="-1921.0" width="100.0" height="80.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="TextAnnotation_17gh8rk" isExpanded="true" id="TextAnnotation_17gh8rk_di">
                <dc:Bounds x="-780.0" y="-2020.0" width="200.0" height="50.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="Flow_0r1kxkb" id="Flow_0r1kxkb_di">
                <di:waypoint x="-979.0" y="-1881.0"/>
                <di:waypoint x="-926.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1kr6lce" id="Flow_1kr6lce_di">
                <di:waypoint x="-901.0" y="-1856.0"/>
                <di:waypoint x="-901.0" y="-1770.0"/>
                <di:waypoint x="-781.0" y="-1770.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0ir273q" id="Flow_0ir273q_di">
                <di:waypoint x="-876.0" y="-1881.0"/>
                <di:waypoint x="-781.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_00tzpex" id="Flow_00tzpex_di">
                <di:waypoint x="-440.0" y="-1881.0"/>
                <di:waypoint x="-110.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_03y5nsj" id="Flow_03y5nsj_di">
                <di:waypoint x="-74.0" y="-1881.0"/>
                <di:waypoint x="110.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1de0pdd" id="Flow_1de0pdd_di">
                <di:waypoint x="920.0" y="-1881.0"/>
                <di:waypoint x="972.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1e2zt0y" id="Flow_1e2zt0y_di">
                <di:waypoint x="780.0" y="-1881.0"/>
                <di:waypoint x="820.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1e3qk4d" id="Flow_1e3qk4d_di">
                <di:waypoint x="370.0" y="-1881.0"/>
                <di:waypoint x="432.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0aoqcgy" id="Flow_0aoqcgy_di">
                <di:waypoint x="210.0" y="-1881.0"/>
                <di:waypoint x="270.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_0p2g4j7" id="Flow_0p2g4j7_di">
                <di:waypoint x="-681.0" y="-1881.0"/>
                <di:waypoint x="-540.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_139do4u" id="Flow_139do4u_di">
                <di:waypoint x="468.0" y="-1881.0"/>
                <di:waypoint x="530.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Flow_1mp84el" id="Flow_1mp84el_di">
                <di:waypoint x="630.0" y="-1881.0"/>
                <di:waypoint x="680.0" y="-1881.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="Association_0vxup68" id="Association_0vxup68_di">
                <di:waypoint x="-727.0" y="-1921.0"/>
                <di:waypoint x="-720.0" y="-1970.0"/>
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</bpmn:definitions>
