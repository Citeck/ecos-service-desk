{
  "id" : "request-sd-form",
  "formKey" : "",
  "title" : {
    "en" : "Форма заявки SD"
  },
  "description" : { },
  "customModule" : null,
  "typeRef" : "emodel/type@sd-request-type",
  "width" : "lg",
  "system" : false,
  "i18n" : { },
  "definition" : {
    "components" : [ {
      "label" : {
        "ru" : "Columns"
      },
      "key" : "objectObject",
      "columns" : [ {
        "components" : [ {
          "label" : {
            "ru" : "Регистрационный номер",
            "en" : "Registration number"
          },
          "key" : "regNumber",
          "validate" : {
            "required" : true
          },
          "defaultValue" : "",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "textfield",
          "input" : true,
          "addAnother" : "ecos.forms.btn.add-another"
        } ],
        "type" : "column",
        "input" : false,
        "key" : "column",
        "index" : 0
      }, {
        "index" : 1,
        "type" : "column",
        "input" : false,
        "key" : "column",
        "components" : [ {
          "label" : {
            "ru" : "Клиент",
            "en" : "Client"
          },
          "key" : "client",
          "modalTitle" : "",
          "journalId" : "clients-journal",
          "queryData" : "",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "selectJournal",
          "input" : true,
          "addAnother" : "ecos.forms.btn.add-another"
        } ]
      } ],
      "oneColumnInViewMode" : false,
      "type" : "columns",
      "input" : false,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "input" : true,
      "key" : "horizontalLine2",
      "addAnother" : "ecos.forms.btn.add-another",
      "type" : "horizontalLine"
    }, {
      "label" : {
        "ru" : "Columns"
      },
      "key" : "columns4",
      "columns" : [ {
        "components" : [ {
          "label" : {
            "ru" : "Инициатор",
            "en" : "Initiator"
          },
          "key" : "initiator",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "selectOrgstruct",
          "input" : true,
          "addAnother" : "ecos.forms.btn.add-another",
          "defaultValue" : ""
        } ],
        "type" : "column",
        "input" : false,
        "key" : "column",
        "index" : 0
      }, {
        "index" : 1,
        "type" : "column",
        "input" : false,
        "key" : "column",
        "components" : [ {
          "label" : {
            "ru" : "Автор",
            "en" : "Author"
          },
          "key" : "author",
          "defaultValue" : "",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "textfield",
          "input" : true,
          "addAnother" : "ecos.forms.btn.add-another"
        } ]
      } ],
      "oneColumnInViewMode" : false,
      "type" : "columns",
      "input" : false,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "key" : "table2",
      "numRows" : 1,
      "type" : "table",
      "input" : false,
      "addAnother" : "ecos.forms.btn.add-another",
      "rows" : [ [ {
        "components" : [ {
          "label" : {
            "ru" : "Тип обращения",
            "en" : "Type of petition"
          },
          "key" : "petitionType",
          "tableView" : true,
          "modalTitle" : "",
          "journalId" : "petition-types-journal",
          "displayColumns" : [ ],
          "source" : {
            "type" : "journal",
            "custom" : {
              "columns" : [ ]
            },
            "viewMode" : "default"
          },
          "refreshOn" : [ ],
          "displayColumnsAsyncData" : [ ],
          "optionalWhenDisabled" : false,
          "logic" : [ ],
          "type" : "selectJournal",
          "input" : true,
          "tags" : [ ],
          "addAnother" : "ecos.forms.btn.add-another",
          "queryData" : "",
          "placeholder" : "",
          "prefix" : "",
          "customClass" : "",
          "suffix" : "",
          "multiple" : false,
          "defaultValue" : "",
          "protected" : false,
          "unique" : false,
          "persistent" : true,
          "hidden" : false,
          "clearOnHide" : true,
          "dataGridLabel" : false,
          "labelPosition" : "top",
          "labelWidth" : 30,
          "labelMargin" : 3,
          "description" : "",
          "errorLabel" : "",
          "tooltip" : "",
          "hideLabel" : false,
          "tabindex" : "",
          "disabled" : false,
          "autofocus" : false,
          "dbIndex" : false,
          "customDefaultValue" : "",
          "calculateValue" : "",
          "allowCalculateOverride" : false,
          "widget" : null,
          "clearOnRefresh" : false,
          "validateOn" : "change",
          "validate" : {
            "required" : false,
            "custom" : "",
            "customPrivate" : false,
            "customMessage" : "",
            "json" : ""
          },
          "conditional" : {
            "show" : "",
            "when" : "",
            "eq" : "",
            "json" : ""
          },
          "alwaysEnabled" : false,
          "attributes" : { },
          "customConditional" : "",
          "disableInlineEdit" : false,
          "encrypted" : false,
          "mask" : false,
          "properties" : { },
          "shortcut" : "",
          "triggerChangeWhenCalculate" : false,
          "customPredicateJs" : "",
          "queryDataJs" : "",
          "presetFilterPredicatesJs" : "",
          "hideCreateButton" : false,
          "hideEditRowButton" : false,
          "hideDeleteRowButton" : false,
          "isFullScreenWidthModal" : false,
          "isSelectedValueAsText" : false,
          "isTableMode" : false,
          "sortAttribute" : "",
          "sortAscending" : "desc",
          "searchField" : "",
          "ecos" : {
            "dataType" : "assoc"
          },
          "id" : "ei2ztw1f"
        } ]
      }, {
        "components" : [ {
          "label" : {
            "ru" : "Вид сервиса",
            "en" : "Type of service"
          },
          "key" : "serviceType",
          "tableView" : true,
          "modalTitle" : "",
          "journalId" : "service-types-journal",
          "displayColumns" : [ ],
          "source" : {
            "type" : "journal",
            "custom" : {
              "columns" : [ ]
            },
            "viewMode" : "default"
          },
          "refreshOn" : [ ],
          "displayColumnsAsyncData" : [ ],
          "optionalWhenDisabled" : false,
          "logic" : [ ],
          "type" : "selectJournal",
          "input" : true,
          "tags" : [ ],
          "addAnother" : "ecos.forms.btn.add-another",
          "queryData" : "",
          "placeholder" : "",
          "prefix" : "",
          "customClass" : "",
          "suffix" : "",
          "multiple" : false,
          "defaultValue" : "",
          "protected" : false,
          "unique" : false,
          "persistent" : true,
          "hidden" : false,
          "clearOnHide" : true,
          "dataGridLabel" : false,
          "labelPosition" : "top",
          "labelWidth" : 30,
          "labelMargin" : 3,
          "description" : "",
          "errorLabel" : "",
          "tooltip" : "",
          "hideLabel" : false,
          "tabindex" : "",
          "disabled" : false,
          "autofocus" : false,
          "dbIndex" : false,
          "customDefaultValue" : "",
          "calculateValue" : "",
          "allowCalculateOverride" : false,
          "widget" : null,
          "clearOnRefresh" : false,
          "validateOn" : "change",
          "validate" : {
            "required" : false,
            "custom" : "",
            "customPrivate" : false,
            "customMessage" : "",
            "json" : ""
          },
          "conditional" : {
            "show" : "",
            "when" : "",
            "eq" : "",
            "json" : ""
          },
          "alwaysEnabled" : false,
          "attributes" : { },
          "customConditional" : "",
          "disableInlineEdit" : false,
          "encrypted" : false,
          "mask" : false,
          "properties" : { },
          "shortcut" : "",
          "triggerChangeWhenCalculate" : false,
          "customPredicateJs" : "",
          "queryDataJs" : "",
          "presetFilterPredicatesJs" : "",
          "hideCreateButton" : false,
          "hideEditRowButton" : false,
          "hideDeleteRowButton" : false,
          "isFullScreenWidthModal" : false,
          "isSelectedValueAsText" : false,
          "isTableMode" : false,
          "sortAttribute" : "",
          "sortAscending" : "desc",
          "searchField" : "",
          "ecos" : {
            "dataType" : "assoc"
          },
          "id" : "esnx8n"
        } ]
      }, {
        "components" : [ {
          "label" : {
            "ru" : "Модуль системы",
            "en" : "System module"
          },
          "key" : "systemModule",
          "tableView" : true,
          "modalTitle" : "",
          "journalId" : "system-module-journal",
          "displayColumns" : [ ],
          "source" : {
            "type" : "journal",
            "custom" : {
              "columns" : [ ]
            },
            "viewMode" : "default"
          },
          "refreshOn" : [ ],
          "displayColumnsAsyncData" : [ ],
          "optionalWhenDisabled" : false,
          "logic" : [ ],
          "type" : "selectJournal",
          "input" : true,
          "tags" : [ ],
          "addAnother" : "ecos.forms.btn.add-another",
          "queryData" : "",
          "placeholder" : "",
          "prefix" : "",
          "customClass" : "",
          "suffix" : "",
          "multiple" : false,
          "defaultValue" : "",
          "protected" : false,
          "unique" : false,
          "persistent" : true,
          "hidden" : false,
          "clearOnHide" : true,
          "dataGridLabel" : false,
          "labelPosition" : "top",
          "labelWidth" : 30,
          "labelMargin" : 3,
          "description" : "",
          "errorLabel" : "",
          "tooltip" : "",
          "hideLabel" : false,
          "tabindex" : "",
          "disabled" : false,
          "autofocus" : false,
          "dbIndex" : false,
          "customDefaultValue" : "",
          "calculateValue" : "",
          "allowCalculateOverride" : false,
          "widget" : null,
          "clearOnRefresh" : false,
          "validateOn" : "change",
          "validate" : {
            "required" : false,
            "custom" : "",
            "customPrivate" : false,
            "customMessage" : "",
            "json" : ""
          },
          "conditional" : {
            "show" : "",
            "when" : "",
            "eq" : "",
            "json" : ""
          },
          "alwaysEnabled" : false,
          "attributes" : { },
          "customConditional" : "",
          "disableInlineEdit" : false,
          "encrypted" : false,
          "mask" : false,
          "properties" : { },
          "shortcut" : "",
          "triggerChangeWhenCalculate" : false,
          "customPredicateJs" : "",
          "queryDataJs" : "",
          "presetFilterPredicatesJs" : "",
          "hideCreateButton" : false,
          "hideEditRowButton" : false,
          "hideDeleteRowButton" : false,
          "isFullScreenWidthModal" : false,
          "isSelectedValueAsText" : false,
          "isTableMode" : false,
          "sortAttribute" : "",
          "sortAscending" : "desc",
          "searchField" : "",
          "ecos" : {
            "dataType" : "assoc"
          },
          "id" : "e1ifvm"
        } ]
      } ] ]
    }, {
      "input" : true,
      "key" : "horizontalLine3",
      "addAnother" : "ecos.forms.btn.add-another",
      "type" : "horizontalLine"
    }, {
      "label" : {
        "ru" : "Тема письма",
        "en" : "Topic of the letter"
      },
      "key" : "letterTopic",
      "defaultValue" : "",
      "refreshOn" : [ ],
      "optionalWhenDisabled" : false,
      "type" : "textfield",
      "input" : true,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "label" : {
        "ru" : "Содержание обращения",
        "en" : "Content of the letter"
      },
      "key" : "letterContent",
      "defaultValue" : "",
      "refreshOn" : [ ],
      "optionalWhenDisabled" : false,
      "type" : "textarea",
      "input" : true,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "label" : {
        "ru" : "Ссылка на пример",
        "en" : "Link to the example"
      },
      "key" : "exampleLink",
      "allowMultipleMasks" : false,
      "showWordCount" : false,
      "showCharCount" : false,
      "defaultValue" : "",
      "inputFormat" : "plain",
      "refreshOn" : [ ],
      "optionalWhenDisabled" : false,
      "type" : "url",
      "input" : true,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "label" : {
        "ru" : "Резолюция",
        "en" : "Resolution"
      },
      "key" : "resolution",
      "dataSrc" : "values",
      "data" : {
        "values" : [ {
          "label" : "Готово",
          "value" : "done"
        }, {
          "label" : "Не буду делать",
          "value" : "notDoing"
        }, {
          "label" : "Дубликат",
          "value" : "duplicate"
        }, {
          "label" : "Не воспроизводится",
          "value" : "notReproducible"
        }, {
          "label" : "Известная ошибка",
          "value" : "knownError"
        } ]
      },
      "defaultValue" : "",
      "optionalWhenDisabled" : false,
      "customConditional" : "let groups = [\"impl-first-line\", \"impl-second-line\", \"impl-third-line\", \"tech-group\"];\n\nshow = Citeck.Records.get(`emodel/person@${user}`).load('authorityGroups[]{id}').then(authorityGroups => {\n  const isFounded = groups.some(group => authorityGroups.includes(group));\n  instance.show(isFounded);\n});",
      "type" : "ecosSelect",
      "input" : true,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "label" : {
        "ru" : "Метки",
        "en" : "Marks"
      },
      "key" : "mark",
      "modalTitle" : "",
      "journalId" : "marks-journal",
      "refreshOn" : [ ],
      "optionalWhenDisabled" : false,
      "type" : "selectJournal",
      "input" : true,
      "addAnother" : "ecos.forms.btn.add-another",
      "queryData" : ""
    }, {
      "label" : {
        "ru" : "Columns"
      },
      "key" : "columns3",
      "columns" : [ {
        "components" : [ {
          "label" : {
            "ru" : "Дата/Время первой реакции",
            "en" : "Date/Time first reaction"
          },
          "key" : "firstReactionTimestamp",
          "format" : "dd-MM-yyyy HH:mm",
          "datePicker" : {
            "minDate" : "",
            "maxDate" : ""
          },
          "timePicker" : {
            "showMeridian" : false
          },
          "defaultValue" : "",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "datetime",
          "input" : true,
          "suffix" : true,
          "addAnother" : "ecos.forms.btn.add-another"
        } ],
        "type" : "column",
        "input" : false,
        "key" : "column",
        "index" : 0,
        "md" : 4
      }, {
        "index" : 1,
        "type" : "column",
        "input" : false,
        "key" : "column",
        "components" : [ {
          "label" : {
            "ru" : "Дата/Время закрытия",
            "en" : "Closing Date/Time"
          },
          "key" : "closedTimestamp",
          "format" : "dd-MM-yyyy HH:mm",
          "datePicker" : {
            "minDate" : "",
            "maxDate" : ""
          },
          "timePicker" : {
            "showMeridian" : false
          },
          "defaultValue" : "",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "datetime",
          "input" : true,
          "suffix" : true,
          "addAnother" : "ecos.forms.btn.add-another"
        } ],
        "md" : 4
      }, {
        "index" : 2,
        "type" : "column",
        "input" : false,
        "key" : "column",
        "components" : [ {
          "label" : {
            "ru" : "Дата/Время останова",
            "en" : "Stopping Date/Time"
          },
          "key" : "stoppingTimestamp",
          "format": "dd-MM-yyyy HH:mm",
          "datePicker" : {
            "minDate" : "",
            "maxDate" : ""
          },
          "timePicker": {
            "showMeridian": false
          },
          "defaultValue" : "",
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "datetime",
          "input" : true,
          "suffix" : true,
          "addAnother" : "ecos.forms.btn.add-another"
        } ],
        "md" : 4
      } ],
      "oneColumnInViewMode" : false,
      "type" : "columns",
      "input" : false,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "label" : {
        "ru" : "Комментарий",
        "en" : "Comment"
      },
      "key" : "comment",
      "defaultValue" : "",
      "refreshOn" : [ ],
      "optionalWhenDisabled" : false,
      "type" : "textarea",
      "input" : true,
      "addAnother" : "ecos.forms.btn.add-another"
    }, {
      "label" : {
        "ru" : "Columns"
      },
      "key" : "columns2",
      "columns" : [ {
        "components" : [ {
          "label" : "Cancel",
          "action" : "event",
          "state" : "",
          "showValidations" : false,
          "event" : "cancel",
          "block" : true,
          "type" : "button",
          "input" : true,
          "key" : "submit2",
          "conditional" : {
            "show" : null,
            "when" : null
          }
        } ],
        "type" : "column",
        "input" : false,
        "key" : "column",
        "label" : "Column",
        "md" : 3,
        "clearOnHide" : true,
        "conditional" : {
          "show" : null,
          "when" : null
        },
        "index" : 0
      }, {
        "components" : [ ],
        "type" : "column",
        "input" : false,
        "key" : "column",
        "label" : "Column",
        "clearOnHide" : true,
        "conditional" : {
          "show" : null,
          "when" : null
        },
        "index" : 1,
        "md" : 3
      }, {
        "md" : 3,
        "type" : "column",
        "input" : false,
        "key" : "column",
        "label" : "Column",
        "components" : [ ],
        "clearOnHide" : true,
        "conditional" : {
          "show" : null,
          "when" : null
        },
        "index" : 2
      }, {
        "md" : 3,
        "type" : "column",
        "input" : false,
        "key" : "column",
        "index" : 3,
        "components" : [ {
          "label" : {
            "ru" : "Создать",
            "en" : "Submit"
          },
          "key" : "submit",
          "state" : "",
          "theme" : "primary",
          "block" : true,
          "disableOnInvalid" : true,
          "refreshOn" : [ ],
          "optionalWhenDisabled" : false,
          "type" : "button",
          "input" : true
        } ]
      } ],
      "oneColumnInViewMode" : false,
      "type" : "columns",
      "input" : false
    } ]
  },
  "attributes" : { }
}
